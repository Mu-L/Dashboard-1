import{_ as L,d as N,u as V,G as f,I as A,x as I,a3 as y,o as p,j as u,g as a,t as l,h as s,F as E,l as O,m as h,U as J,b as g,f as c,a6 as B,T as S}from"./index.e665cea8.js";const K={class:"wrapper"},z={class:"title"},H={class:"content"},M={class:"list-wrapper"},R=["data-idx"],U=["onDblclick"],j={class:"operation-wrapper"},G={key:0,class:"operation btn btn-small btn-info",disabled:""},P=["onClick"],Y=["onClick"],q={class:"btn-add-wrapper"},Q={class:"title",style:{"margin-top":"20px"}},W={class:"content"},X={class:"flex-center-y",style:{height:"100%"}},Z={class:"flex-center-y",style:{height:"100%"}},tt=N({__name:"TabControl",setup(et){const n=V(),d=f(()=>n.tabList),{t:m}=A();I(()=>{if(!d.value||d.value.length===0){const t=[{id:y(),selected:!0}];n.updateTabList(t)}});const T=t=>{const e=window.prompt(m("\u91CD\u547D\u540D\u6807\u7B7E\u9875"));if(e){const i=JSON.parse(JSON.stringify(d.value)),r=i.findIndex(b=>b.id===t);~r&&(i[r].name=e,n.updateTabList(i))}},k=()=>{const t={id:y(),data:{list:[],affix:[],global:{background:"#242428",backgroundFilter:"brightness(0.8)",gutter:10,css:"",js:"",globalFontFamily:"",siteTitle:""},showBackgroundEffect:!1,showRefreshBtn:!0}},e=JSON.parse(JSON.stringify(d.value));if(e.length>6){alert(m("\u6807\u7B7E\u9875\u5DF2\u8FBE\u4E0A\u9650\uFF0C\u65E0\u6CD5\u6DFB\u52A0"));return}e.push(t),n.updateTabList(e)},C=t=>{if(window.confirm(m("\u5220\u9664\u540E\u4E0D\u53EF\u6062\u590D, \u786E\u8BA4\u8981\u5220\u9664\u8BE5\u6807\u7B7E\u9875?"))){const e=JSON.parse(JSON.stringify(d.value)),i=e.findIndex(r=>r.id===t);~i&&(e.splice(i,1),n.updateTabList(e))}},D=t=>{n.updateTabSelected(t)},w=f({get:()=>n.showTabSwitchBtn,set:t=>{n.updateState({key:"showTabSwitchBtn",value:t})}}),_=f({get:()=>n.enableKeydownSwitchTab,set:t=>{n.updateState({key:"enableKeydownSwitchTab",value:t})}});return(t,e)=>{const i=c("el-alert"),r=c("Icon"),b=c("el-switch"),v=c("el-form-item"),F=c("el-form");return p(),u("div",K,[a("div",z,l(t.$t("\u591A\u9875\u8BBE\u7F6E")),1),a("div",H,[s(i,{title:t.$t("tabsTips"),type:"warning",closable:!1,style:{"margin-bottom":"8px"}},null,8,["title"]),a("div",M,[(p(!0),u(E,null,O(h(d),(o,$)=>(p(),u("div",{class:"item",key:o.id,"data-idx":$+1},[a("div",{class:"name",onDblclick:x=>T(o.id)},l(o.name||t.$t("\u672A\u547D\u540D")),41,U),a("div",j,[o.selected?(p(),u("button",G,l(t.$t("\u5F53\u524D\u5E94\u7528")),1)):(p(),u(E,{key:1},[a("button",{class:"operation btn btn-small btn-warning",onClick:x=>D(o.id)},l(t.$t("\u5E94\u7528")),9,P),a("button",{class:"operation btn btn-small btn-danger",style:{"margin-left":"10px"},onClick:x=>C(o.id)},l(t.$t("\u5220\u9664")),9,Y)],64))])],8,R))),128)),a("div",q,[a("button",{class:"btn btn-primary",onClick:k},[s(r,{name:"add",size:"1.2em",style:{"margin-right":"4px"}}),J(" "+l(t.$t("\u65B0\u589E")),1)])])])]),a("div",Q,l(t.$t("\u5176\u4ED6\u8BBE\u7F6E")),1),a("div",W,[s(F,{"label-width":"110px"},{default:g(()=>[s(v,{label:t.$t("\u5C55\u793A\u5207\u6362\u6309\u94AE")},{default:g(()=>[a("div",X,[s(b,{modelValue:h(w),"onUpdate:modelValue":e[0]||(e[0]=o=>B(w)?w.value=o:null)},null,8,["modelValue"]),s(S,{content:t.$t("tabsSwitchBtnTips")},null,8,["content"])])]),_:1},8,["label"]),s(v,{label:t.$t("\u65B9\u5411\u952E\u5207\u6362")},{default:g(()=>[a("div",Z,[s(b,{modelValue:h(_),"onUpdate:modelValue":e[1]||(e[1]=o=>B(_)?_.value=o:null)},null,8,["modelValue"]),s(S,{content:t.$t("tabsKeyboardSwitchTips")},null,8,["content"])])]),_:1},8,["label"])]),_:1})])])}}});var nt=L(tt,[["__scopeId","data-v-21ed7da4"]]);export{nt as default};
