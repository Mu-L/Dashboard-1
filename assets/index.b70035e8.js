var K=Object.defineProperty,Q=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var V=(e,t,a)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,_=(e,t)=>{for(var a in t||(t={}))Y.call(t,a)&&V(e,a,t[a]);if(D)for(var a of D(t))Z.call(t,a)&&V(e,a,t[a]);return e},z=(e,t)=>Q(e,X(t));import{_ as ee,d as te,I as ae,r as o,w as B,x as oe,y as ne,G as A,o as f,j as b,N as m,R as u,E as g,i as j,g as n,t as F,m as M,Q as ie,P as ce,H as re,J as le,K as se,p as de,q as pe}from"./index.e665cea8.js";const E=e=>(de("data-v-1e65a99b"),e=e(),pe(),e),me=["src"],ue={class:"quote-left"},ge=E(()=>n("svg",{viewBox:"0 0 1024 1024"},[n("path",{d:"M928 512h-160v-128c0-70.6 57.4-128 128-128h16c26.6 0 48-21.4 48-48V112c0-26.6-21.4-48-48-48h-16c-176.8 0-320 143.2-320 320v480c0 53 43 96 96 96h256c53 0 96-43 96-96V608c0-53-43-96-96-96z m-576 0H192v-128c0-70.6 57.4-128 128-128h16c26.6 0 48-21.4 48-48V112c0-26.6-21.4-48-48-48h-16C143.2 64 0 207.2 0 384v480c0 53 43 96 96 96h256c53 0 96-43 96-96V608c0-53-43-96-96-96z"})],-1)),ve=[ge],he={class:"quote-right"},fe=E(()=>n("svg",{viewBox:"0 0 1024 1024"},[n("path",{d:"M928 64H672c-53 0-96 43-96 96v256c0 53 43 96 96 96h160v128c0 70.6-57.4 128-128 128h-16c-26.6 0-48 21.4-48 48v96c0 26.6 21.4 48 48 48h16c176.8 0 320-143.2 320-320V160c0-53-43-96-96-96z m-576 0H96C43 64 0 107 0 160v256c0 53 43 96 96 96h160v128c0 70.6-57.4 128-128 128h-16c-26.6 0-48 21.4-48 48v96c0 26.6 21.4 48 48 48h16c176.8 0 320-143.2 320-320V160c0-53-43-96-96-96z"})],-1)),be=[fe],we=te({__name:"index",props:{componentSetting:{type:Object,required:!0},element:{type:Object,required:!0}},setup(e){const t=e;ie(c=>({aad30738:M(W)}));const{t:a}=ae(),r=o(),l=o(),s=o(),d=o(""),w=o(""),x=o(""),p=o(""),S=o(""),y=o(""),k=o(!1),v=async()=>{try{const c=await fetch(`${ce}/api/movieLines`),{name:I,img:N,img1:C,img2:P,img3:$,img4:O,link:U,quotes:G}=await c.json();d.value=G,w.value=I,x.value=N.replace("s_ratio_poster","m");const T=[C,C,P,$,O].filter(Boolean),J=~~(Math.random()*T.length),h=T[J];window.innerWidth<768?p.value=h.replace("original","w780"):window.innerWidth<1460?p.value=h.replace("original","w1280"):p.value=h,S.value=U,y.value=`
      background-image: radial-gradient(
        ellipse at ${~~(Math.random()*50)+25}% ${~~(Math.random()*50)+25}%,
        rgba(0, 0, 0,.25),
        rgba(0, 04, 0,.75), 
        rgb(0, 0, 0));`}catch{}};let i;const q=()=>{const c=(t.componentSetting.duration||5)*60*1e3;i&&(window.clearInterval(i),i=null),i=window.setInterval(v,c)};B(()=>t.componentSetting.duration,()=>q(),{immediate:!0}),oe(()=>v()),ne(()=>i&&window.clearInterval(i));const R=A(()=>re(t.componentSetting.position)),W=A(()=>t.componentSetting.themeColor);B(()=>d.value,()=>{r.value&&r.value.animate&&r.value.animate({opacity:[0,1]},400),l.value&&l.value.animate&&l.value.animate({opacity:[0,1]},400)});const H=()=>{k.value=!0,s.value&&s.value.animate&&s.value.animate({opacity:[0,1]},400)},L=()=>{t.componentSetting.clickActionType===1?(v(),q()):t.componentSetting.clickActionType===2?window.open(S.value):t.componentSetting.clickActionType===3&&le(d.value)&&se({title:a("\u63D0\u793A"),type:"success",message:a("\u590D\u5236\u6210\u529F")})};return(c,I)=>(f(),b("div",{class:"wrapper",style:g(z(_({fontSize:e.componentSetting.textFontSize+"px",color:e.componentSetting.textColor,textShadow:e.componentSetting.textShadow,padding:e.componentSetting.padding+"px",fontFamily:e.componentSetting.fontFamily},M(R)),{borderRadius:e.element.borderRadius+"px"}))},[e.componentSetting.showPoster?m((f(),b("img",{key:0,class:"bg",ref_key:"movieBg",ref:s,src:e.componentSetting.posterType===2?p.value:x.value,style:g({filter:e.componentSetting.posterFilter}),onLoad:H},null,44,me)),[[u,k.value]]):j("",!0),e.componentSetting.useSpotlight?(f(),b("div",{key:1,class:"bg-effect-box",style:g(y.value)},null,4)):j("",!0),n("blockquote",{class:"blockquote",style:g({background:e.componentSetting.showDecoration?"":"none",maxWidth:e.componentSetting.maxWidth?e.componentSetting.maxWidth+"px":"",cursor:e.componentSetting.clickActionType?"pointer":"default"}),onClick:L},[n("p",{class:"lines",ref_key:"linesText",ref:r},F(d.value),513),m(n("p",{class:"cite",ref_key:"movieText",ref:l},"\u300E "+F(w.value)+" \u300F",513),[[u,e.componentSetting.showCite]]),m(n("div",ue,ve,512),[[u,e.componentSetting.showDecoration]]),m(n("div",he,be,512),[[u,e.componentSetting.showDecoration]])],4)],4))}});var ye=ee(we,[["__scopeId","data-v-1e65a99b"]]);export{ye as default};
