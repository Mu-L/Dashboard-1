var F=Object.defineProperty;var S=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var _=(e,t,n)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))A.call(t,n)&&_(e,n,t[n]);if(S)for(var n of S(t))I.call(t,n)&&_(e,n,t[n]);return e};import{_ as T,d as $,u as b,G as y,r as p,x as z,y as B,w as D,k as i,g as a,E as g,j as E,F as N,m as P,i as w,H as U,o as s,t as k,P as V}from"./index.e6ac9e66.js";const q={class:"juejin"},G={key:0,class:"logo"},H={key:1,class:"loading"},J={key:2,class:"error"},M={key:3,class:"list"},O={class:"title"},R=["href"],K={class:"like"},Q=$({props:{componentSetting:{type:Object,required:!0}},setup(e){const t=e,n=b(),j=y(()=>n.isLock),x="https://sf3-scmcdn2-tos.pstatp.com/xitu_juejin_web/img/logo.a7995ad.svg",m=p([]),r=p(!1),d=p(!1),v=async()=>{try{r.value=!0,d.value=!1;const l=await fetch(`${V}/api/juejinList?limit=${t.componentSetting.limit||10}`),{list:f}=await l.json();m.value=f.map(o=>({id:o.article_id,title:o.title,like:o.digg_count,view:o.view_count}))}catch(l){d.value=!0,console.error(l)}finally{r.value=!1}};let c;function u(){v(),c&&window.clearInterval(c),c=window.setInterval(()=>{v()},t.componentSetting.duration*60*1e3)}z(()=>u()),B(()=>window.clearInterval(c)),D(()=>[t.componentSetting.duration,t.componentSetting.limit],()=>u());const L=y(()=>U(t.componentSetting.position)),C=()=>{t.componentSetting.clickActionType===1?u():t.componentSetting.clickActionType===2&&window.open("https://juejin.cn/")};return(l,f)=>(s(),i("div",{class:"wrapper",style:g(h({fontSize:e.componentSetting.textFontSize+"px",color:e.componentSetting.textColor,textShadow:e.componentSetting.textShadow,padding:e.componentSetting.padding+"px",fontFamily:e.componentSetting.fontFamily},w(L)))},[a("div",q,[e.componentSetting.showTitle!==!1?(s(),i("div",G,[a("img",{src:x,style:g({filter:`drop-shadow(${e.componentSetting.iconShadow})`,cursor:e.componentSetting.clickActionType?"pointer":"default"}),alt:"Juejin",onClick:C},null,4)])):E("",!0),r.value?(s(),i("div",H,"Loading...")):d.value?(s(),i("div",J,"Something error!")):(s(),i("div",M,[(s(!0),i(N,null,P(m.value,o=>(s(),i("div",{class:"list-item",key:o.id},[a("div",O,[a("a",{href:`https://juejin.cn/post/${o.id}`,target:"_blank",style:g(w(j)?"":"pointer-events: none")},k(o.title),13,R)]),a("div",K,"\u{1F44D}"+k(o.like),1)]))),128))]))])],4))}});var Y=T(Q,[["__scopeId","data-v-189f5c74"]]);export{Y as default};
