var P=Object.defineProperty,Z=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var N=(i,u,r)=>u in i?P(i,u,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[u]=r,g=(i,u)=>{for(var r in u||(u={}))X.call(u,r)&&N(i,r,u[r]);if(B)for(var r of B(u))j.call(u,r)&&N(i,r,u[r]);return i},v=(i,u)=>Z(i,W(u));import{_ as q,d as x,S as m,u as G,r as U,a as H,w as K,o as d,c as f,b as s,e as J,f as D,g as l,t as k,h as n,i as y,j as O,k as F,T as Q,F as Y,l as tt,m as I,n as at,p as ot,q as et,s as R,M as lt,B as nt,v as it}from"./index.9dfdcf6a.js";import{d as ut}from"./direction.8b21c0ae.js";const _=i=>(ot("data-v-07764e50"),i=i(),et(),i),st={key:0,class:"action-component-setting"},rt={class:"title"},ct={class:"flex-center-y"},dt={class:"form-row-control"},mt=_(()=>l("div",{class:"label"},"Width",-1)),ft={class:"content"},pt=_(()=>l("span",{class:"unit"},"PX",-1)),Ct={class:"form-row-control"},Dt=_(()=>l("div",{class:"label"},"Height",-1)),kt={class:"content"},Vt=_(()=>l("span",{class:"unit"},"PX",-1)),_t={class:"form-row-control"},bt={class:"label"},gt={class:"content"},vt={class:"form-row-control"},yt={class:"label"},Ft={class:"content"},ht={class:"form-row-control"},St={class:"label"},Et={class:"content"},wt=_(()=>l("span",{class:"font-control"},"px",-1)),Tt={class:"component-detail-setting"},$t={class:"label"},At={class:"content"},Bt={class:"footer",style:{"text-align":"right",padding:"12px"}},Nt=x({name:"ActionConfig",setup(i,{expose:u}){const r={actionType:0,actionClickType:1,actionClickValue:{url:"",material:"Empty",w:375,h:400,background:"rgba(255, 255, 255, 0.95)",backgroundFilter:"brightness(0.8)",direction:0,boxShadow:"0 0 4px #89909c",borderRadius:4,componentSetting:JSON.parse(JSON.stringify(m.Empty.formData))}},h=G(),b=U(!1),T=U(),t=H({formData:JSON.parse(JSON.stringify(r)),actionClickFormConf:{}});let p,S=!1;const z=a=>{p=a,a.actionSetting&&a.actionSetting.actionType?t.formData=JSON.parse(JSON.stringify(a.actionSetting)):t.formData=JSON.parse(JSON.stringify(r));const o=t.formData.actionClickValue.material;t.actionClickFormConf=J(typeof m[o].formConf=="function"?m[o].formConf(t.formData.actionClickValue.componentSetting):m[o].formConf),b.value=!0,setTimeout(()=>{S=!0})},V=()=>{b.value=!1,S=!1};K(()=>t.formData.actionClickValue.material,()=>{var a,o;if(S){if(((o=(a=p==null?void 0:p.actionSetting)==null?void 0:a.actionClickValue)==null?void 0:o.material)===t.formData.actionClickValue.material)return;const c=t.formData.actionClickValue.material;t.formData.actionClickValue.componentSetting=JSON.parse(JSON.stringify(m[c].formData)),t.actionClickFormConf=J(typeof m[c].formConf=="function"?m[c].formConf(t.formData.actionClickValue.componentSetting):m[c].formConf)}});const L=()=>{if(t.formData.actionType){if(t.formData.actionClickType===1)T.value.validate(a=>{if(a){const o=v(g({},p),{actionSetting:R(t.formData)});h.editComponent(o),V()}else return!1});else if(t.formData.actionClickType===2)if(/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/.test(t.formData.actionClickValue.url)){/https?:\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/.test(t.formData.actionClickValue.url)||(t.formData.actionClickValue.url="https://"+t.formData.actionClickValue.url);const a=v(g({},p),{actionSetting:R(t.formData)});h.editComponent(a),V()}else alert("\u8DF3\u8F6C\u76EE\u6807URL\u4E0D\u5408\u6CD5")}else{const a=v(g({},p),{actionSetting:null});h.editComponent(a),V()}};return u({open:z,close:V}),(a,o)=>{const c=D("el-option"),E=D("el-select"),C=D("el-form-item"),$=D("el-input"),A=D("el-form"),w=D("el-input-number"),M=D("easy-dialog");return d(),f(M,{modelValue:b.value,"onUpdate:modelValue":o[11]||(o[11]=e=>b.value=e),title:a.$t("\u7EC4\u4EF6\u4EA4\u4E92\u914D\u7F6E"),width:"min(480px, 98vw)",height:"min(520px, 90vh)"},{footer:s(()=>[l("div",Bt,[l("button",{type:"button",class:"btn",onClick:V},k(a.$t("\u53D6\u6D88")),1),l("button",{type:"button",class:"btn btn-primary",onClick:L},k(a.$t("\u786E\u8BA4")),1)])]),default:s(()=>[l("div",null,[n(A,{"label-width":"90px"},{default:s(()=>[n(C,{label:a.$t("\u4EA4\u4E92\u884C\u4E3A")},{default:s(()=>[n(E,{modelValue:t.formData.actionType,"onUpdate:modelValue":o[0]||(o[0]=e=>t.formData.actionType=e)},{default:s(()=>[n(c,{label:a.$t("\u65E0"),value:0},null,8,["label"]),n(c,{label:a.$t("\u9F20\u6807\u70B9\u51FB"),value:1},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),t.formData.actionType===1?(d(),f(C,{key:0,label:a.$t("\u9F20\u6807\u70B9\u51FB")},{default:s(()=>[n(E,{modelValue:t.formData.actionClickType,"onUpdate:modelValue":o[1]||(o[1]=e=>t.formData.actionClickType=e)},{default:s(()=>[n(c,{label:a.$t("\u663E\u793A\u65B0\u7EC4\u4EF6(Toggle)"),value:1},null,8,["label"]),n(c,{label:a.$t("\u8DF3\u8F6C\u94FE\u63A5"),value:2},null,8,["label"]),n(c,{label:a.$t("\u8FD0\u884CJavascript\u811A\u672C"),value:3,disabled:""},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"])):y("",!0),t.formData.actionType===1&&t.formData.actionClickType===2?(d(),f(C,{key:1},{default:s(()=>[n($,{modelValue:t.formData.actionClickValue.url,"onUpdate:modelValue":o[2]||(o[2]=e=>t.formData.actionClickValue.url=e),placeholder:a.$t("\u8BF7\u8F93\u5165\u4E00\u4E2A\u53EF\u7528\u7684\u8DF3\u8F6C\u94FE\u63A5")},null,8,["modelValue","placeholder"])]),_:1})):y("",!0)]),_:1}),t.formData.actionType===1&&t.formData.actionClickType===1?(d(),O("div",st,[l("div",rt,k(a.$t("Toggle\u7EC4\u4EF6\u914D\u7F6E")),1),n(A,{ref:"componentSettingForm",class:"setting-form1","label-position":"top"},{default:s(()=>[n(C,{label:a.$t("\u7269\u6599\u7EC4\u4EF6")},{default:s(()=>[l("div",ct,[(d(),f(F(lt),{modelValue:t.formData.actionClickValue.material,"onUpdate:modelValue":o[3]||(o[3]=e=>t.formData.actionClickValue.material=e)},null,8,["modelValue"])),n(Q,{content:a.$t("actionMaterialTips")},null,8,["content"])])]),_:1},8,["label"]),n(C,{label:a.$t("\u5C3A\u5BF8")},{default:s(()=>[l("div",dt,[mt,l("div",ft,[n(w,{modelValue:t.formData.actionClickValue.w,"onUpdate:modelValue":o[4]||(o[4]=e=>t.formData.actionClickValue.w=e),"controls-position":"right",min:40,max:1920,style:{width:"100px"}},null,8,["modelValue"]),pt])]),l("div",Ct,[Dt,l("div",kt,[n(w,{modelValue:t.formData.actionClickValue.h,"onUpdate:modelValue":o[5]||(o[5]=e=>t.formData.actionClickValue.h=e),"controls-position":"right",min:40,max:1920,style:{width:"100px"}},null,8,["modelValue"]),Vt])])]),_:1},8,["label"]),n(C,{label:a.$t("Popover\u914D\u7F6E")},{default:s(()=>[l("div",_t,[l("div",bt,k(a.$t("\u65B9\u5411")),1),l("div",gt,[n(E,{modelValue:t.formData.actionClickValue.direction,"onUpdate:modelValue":o[6]||(o[6]=e=>t.formData.actionClickValue.direction=e)},{default:s(()=>[(d(!0),O(Y,null,tt(I(ut),e=>(d(),f(c,{label:e.label,value:e.value,key:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),l("div",vt,[l("div",yt,k(a.$t("\u9634\u5F71")),1),l("div",Ft,[n($,{style:{width:"100%"},modelValue:t.formData.actionClickValue.boxShadow,"onUpdate:modelValue":o[7]||(o[7]=e=>t.formData.actionClickValue.boxShadow=e),clearable:"",placeholder:a.$t("shadowPlaceholder")},null,8,["modelValue","placeholder"])])]),l("div",ht,[l("div",St,k(a.$t("\u5706\u89D2")),1),l("div",Et,[n(w,{modelValue:t.formData.actionClickValue.borderRadius,"onUpdate:modelValue":o[8]||(o[8]=e=>t.formData.actionClickValue.borderRadius=e),"controls-position":"right",min:0,max:100,style:{width:"100px"}},null,8,["modelValue"]),wt])])]),_:1},8,["label"]),n(C,{label:a.$t("\u80CC\u666F")},{default:s(()=>[(d(),f(F(nt),{background:t.formData.actionClickValue.background,"onUpdate:background":o[9]||(o[9]=e=>t.formData.actionClickValue.background=e),w:t.formData.actionClickValue.w,h:t.formData.actionClickValue.h,positionMode:2},null,40,["background","w","h"])),t.formData.actionClickValue.background.includes("url")?(d(),f(F(it),{key:0,filter:t.formData.actionClickValue.backgroundFilter,"onUpdate:filter":o[10]||(o[10]=e=>t.formData.actionClickValue.backgroundFilter=e)},null,40,["filter"])):y("",!0)]),_:1},8,["label"])]),_:1},512),l("div",Tt,[l("div",$t,k(a.$t("\u7EC4\u4EF6\u914D\u7F6E")),1),l("div",At,[(d(),f(F(I(at)),{formData:t.formData.actionClickValue.componentSetting,formConf:t.actionClickFormConf,ref_key:"componentDetailForm",ref:T,"label-width":"100px"},null,8,["formData","formConf"]))])])])):y("",!0)])]),_:1},8,["modelValue","title"])}}});var It=q(Nt,[["__scopeId","data-v-07764e50"]]);export{It as default};
