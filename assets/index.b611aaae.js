var wt=Object.defineProperty,kt=Object.defineProperties;var xt=Object.getOwnPropertyDescriptors;var et=Object.getOwnPropertySymbols;var St=Object.prototype.hasOwnProperty,Dt=Object.prototype.propertyIsEnumerable;var tt=(e,t,n)=>t in e?wt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ee=(e,t)=>{for(var n in t||(t={}))St.call(t,n)&&tt(e,n,t[n]);if(et)for(var n of et(t))Dt.call(t,n)&&tt(e,n,t[n]);return e},nt=(e,t)=>kt(e,xt(t));import{_ as Ze,d as qe,r as T,I as ht,a as Et,G as Q,w as Ct,f as ee,o as p,c as ie,b as S,g as f,t as _,h as b,U as oe,i as D,j as g,F as X,l as ve,a2 as it,m as v,E as M,P as _t,K as Ue,s as Oe,a3 as $e,p as We,q as Xe,u as Ft,a4 as ye,a5 as U,a0 as $t,x as zt,y as Bt,a6 as Tt,Q as Nt,a7 as ot,N as Ce,D as _e,R as at}from"./index.ffc16ffa.js";import{D as rt}from"./vuedraggable.umd.4caab6f4.js";import{a as Pe,b as At,c as Vt}from"./images.c918f91a.js";import Ot from"./ActionPopover.273614f5.js";import"./direction.8b21c0ae.js";var P,C,a,ae,Z=[],Pt=Z.concat,xe=Z.filter,ue=Z.slice,N=window.document,Le={},Ie={},Lt={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},je=/^\s*<(\w+|!)[^>]*>/,It=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Mt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,lt=/^(?:body|html)$/i,Rt=/([A-Z])/g,Ht=["val","css","html","text","data","width","height","offset"],Ut=["after","prepend","before","append"],Me=N.createElement("table"),st=N.createElement("tr"),ut={tr:N.createElement("tbody"),tbody:Me,thead:Me,tfoot:Me,td:st,th:st,"*":N.createElement("div")},jt=/^[\w-]*$/,Ye={},Jt=Ye.toString,x={},ze,Be,ct=N.createElement("div"),Re={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},me=Array.isArray||function(e){return e instanceof Array};x.matches=function(e,t){if(!t||!e||e.nodeType!==1)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,s=e.parentNode,u=!s;return u&&(s=ct).appendChild(e),i=~x.qsa(s,t).indexOf(e),u&&ct.removeChild(e),i};function Se(e){return e==null?String(e):Ye[Jt.call(e)]||"object"}function se(e){return Se(e)=="function"}function Te(e){return e!=null&&e==e.window}function Je(e){return e!=null&&e.nodeType==e.DOCUMENT_NODE}function fe(e){return Se(e)=="object"}function ke(e){return fe(e)&&!Te(e)&&Object.getPrototypeOf(e)==Object.prototype}function Ge(e){var t=!!e&&"length"in e&&e.length,n=a.type(e);return n!="function"&&!Te(e)&&(n=="array"||t===0||typeof t=="number"&&t>0&&t-1 in e)}function Zt(e){return xe.call(e,function(t){return t!=null})}function qt(e){return e.length>0?a.fn.concat.apply([],e):e}ze=function(e){return e.replace(/-+(.)?/g,function(t,n){return n?n.toUpperCase():""})};function we(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}Be=function(e){return xe.call(e,function(t,n){return e.indexOf(t)==n})};function dt(e){return e in Ie?Ie[e]:Ie[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function ft(e,t){return typeof t=="number"&&!Lt[we(e)]?t+"px":t}function Wt(e){var t,n;return Le[e]||(t=N.createElement(e),N.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),n=="none"&&(n="block"),Le[e]=n),Le[e]}function pt(e){return"children"in e?ue.call(e.children):a.map(e.childNodes,function(t){if(t.nodeType==1)return t})}function vt(e,t){var n,i=e?e.length:0;for(n=0;n<i;n++)this[n]=e[n];this.length=i,this.selector=t||""}x.fragment=function(e,t,n){var i,s,u;return It.test(e)&&(i=a(N.createElement(RegExp.$1))),i||(e.replace&&(e=e.replace(Mt,"<$1></$2>")),t===P&&(t=je.test(e)&&RegExp.$1),t in ut||(t="*"),u=ut[t],u.innerHTML=""+e,i=a.each(ue.call(u.childNodes),function(){u.removeChild(this)})),ke(n)&&(s=a(i),a.each(n,function(k,F){Ht.indexOf(k)>-1?s[k](F):s.attr(k,F)})),i};x.Z=function(e,t){return new vt(e,t)};x.isZ=function(e){return e instanceof x.Z};x.init=function(e,t){var n;if(e)if(typeof e=="string")if(e=e.trim(),e[0]=="<"&&je.test(e))n=x.fragment(e,RegExp.$1,t),e=null;else{if(t!==P)return a(t).find(e);n=x.qsa(N,e)}else{if(se(e))return a(N).ready(e);if(x.isZ(e))return e;if(me(e))n=Zt(e);else if(fe(e))n=[e],e=null;else if(je.test(e))n=x.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==P)return a(t).find(e);n=x.qsa(N,e)}}else return x.Z();return x.Z(n,e)};a=function(e,t){return x.init(e,t)};function mt(e,t,n){for(C in t)n&&(ke(t[C])||me(t[C]))?(ke(t[C])&&!ke(e[C])&&(e[C]={}),me(t[C])&&!me(e[C])&&(e[C]=[]),mt(e[C],t[C],n)):t[C]!==P&&(e[C]=t[C])}a.extend=function(e){var t,n=ue.call(arguments,1);return typeof e=="boolean"&&(t=e,e=n.shift()),n.forEach(function(i){mt(e,i,t)}),e};x.qsa=function(e,t){var n,i=t[0]=="#",s=!i&&t[0]==".",u=i||s?t.slice(1):t,k=jt.test(u);return e.getElementById&&k&&i?(n=e.getElementById(u))?[n]:[]:e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11?[]:ue.call(k&&!i&&e.getElementsByClassName?s?e.getElementsByClassName(u):e.getElementsByTagName(t):e.querySelectorAll(t))};function Fe(e,t){return t==null?a(e):a(e).filter(t)}a.contains=N.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1};function ne(e,t,n,i){return se(t)?t.call(e,n,i):t}function He(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function de(e,t){var n=e.className||"",i=n&&n.baseVal!==P;if(t===P)return i?n.baseVal:n;i?n.baseVal=t:e.className=t}function gt(e){try{return e&&(e=="true"||(e=="false"?!1:e=="null"?null:+e+""==e?+e:/^[\[\{]/.test(e)?a.parseJSON(e):e))}catch{return e}}a.type=Se;a.isFunction=se;a.isWindow=Te;a.isArray=me;a.isPlainObject=ke;a.isEmptyObject=function(e){var t;for(t in e)return!1;return!0};a.isNumeric=function(e){var t=Number(e),n=typeof e;return e!=null&&n!="boolean"&&(n!="string"||e.length)&&!isNaN(t)&&isFinite(t)||!1};a.inArray=function(e,t,n){return Z.indexOf.call(t,e,n)};a.camelCase=ze;a.trim=function(e){return e==null?"":String.prototype.trim.call(e)};a.uuid=0;a.support={};a.expr={};a.noop=function(){};a.map=function(e,t){var n,i=[],s,u;if(Ge(e))for(s=0;s<e.length;s++)n=t(e[s],s),n!=null&&i.push(n);else for(u in e)n=t(e[u],u),n!=null&&i.push(n);return qt(i)};a.each=function(e,t){var n,i;if(Ge(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(i in e)if(t.call(e[i],i,e[i])===!1)return e;return e};a.grep=function(e,t){return xe.call(e,t)};window.JSON&&(a.parseJSON=JSON.parse);a.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Ye["[object "+t+"]"]=t.toLowerCase()});a.fn={constructor:x.Z,length:0,forEach:Z.forEach,reduce:Z.reduce,push:Z.push,sort:Z.sort,splice:Z.splice,indexOf:Z.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=x.isZ(t)?t.toArray():t;return Pt.apply(x.isZ(this)?this.toArray():this,n)},map:function(e){return a(a.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return a(ue.apply(this,arguments))},ready:function(e){if(N.readyState==="complete"||N.readyState!=="loading"&&!N.documentElement.doScroll)setTimeout(function(){e(a)},0);else{var t=function(){N.removeEventListener("DOMContentLoaded",t,!1),window.removeEventListener("load",t,!1),e(a)};N.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)}return this},get:function(e){return e===P?ue.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})},each:function(e){return Z.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return se(e)?this.not(this.not(e)):a(xe.call(this,function(t){return x.matches(t,e)}))},add:function(e,t){return a(Be(this.concat(a(e,t))))},is:function(e){return typeof e=="string"?this.length>0&&x.matches(this[0],e):e&&this.selector==e.selector},not:function(e){var t=[];if(se(e)&&e.call!==P)this.each(function(i){e.call(this,i)||t.push(this)});else{var n=typeof e=="string"?this.filter(e):Ge(e)&&se(e.item)?ue.call(e):a(e);this.forEach(function(i){n.indexOf(i)<0&&t.push(i)})}return a(t)},has:function(e){return this.filter(function(){return fe(e)?a.contains(this,e):a(this).find(e).size()})},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!fe(e)?e:a(e)},last:function(){var e=this[this.length-1];return e&&!fe(e)?e:a(e)},find:function(e){var t,n=this;return e?typeof e=="object"?t=a(e).filter(function(){var i=this;return Z.some.call(n,function(s){return a.contains(s,i)})}):this.length==1?t=a(x.qsa(this[0],e)):t=this.map(function(){return x.qsa(this,e)}):t=a(),t},closest:function(e,t){var n=[],i=typeof e=="object"&&a(e);return this.each(function(s,u){for(;u&&!(i?i.indexOf(u)>=0:x.matches(u,e));)u=u!==t&&!Je(u)&&u.parentNode;u&&n.indexOf(u)<0&&n.push(u)}),a(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=a.map(n,function(i){if((i=i.parentNode)&&!Je(i)&&t.indexOf(i)<0)return t.push(i),i});return Fe(t,e)},parent:function(e){return Fe(Be(this.pluck("parentNode")),e)},children:function(e){return Fe(this.map(function(){return pt(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||ue.call(this.childNodes)})},siblings:function(e){return Fe(this.map(function(t,n){return xe.call(pt(n.parentNode),function(i){return i!==n})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return a.map(this,function(t){return t[e]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=""),getComputedStyle(this,"").getPropertyValue("display")=="none"&&(this.style.display=Wt(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=se(e);if(this[0]&&!t)var n=a(e).get(0),i=n.parentNode||this.length>1;return this.each(function(s){a(this).wrapAll(t?e.call(this,s):i?n.cloneNode(!0):n)})},wrapAll:function(e){if(this[0]){a(this[0]).before(e=a(e));for(var t;(t=e.children()).length;)e=t.first();a(e).append(this)}return this},wrapInner:function(e){var t=se(e);return this.each(function(n){var i=a(this),s=i.contents(),u=t?e.call(this,n):e;s.length?s.wrapAll(u):i.append(u)})},unwrap:function(){return this.parent().each(function(){a(this).replaceWith(a(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=a(this);(e===P?t.css("display")=="none":e)?t.show():t.hide()})},prev:function(e){return a(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return a(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;a(this).empty().append(ne(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=ne(this,e,t,this.textContent);this.textContent=n==null?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(e,t){var n;return typeof e=="string"&&!(1 in arguments)?0 in this&&this[0].nodeType==1&&(n=this[0].getAttribute(e))!=null?n:P:this.each(function(i){if(this.nodeType===1)if(fe(e))for(C in e)He(this,C,e[C]);else He(this,e,ne(this,t,i,this.getAttribute(e)))})},removeAttr:function(e){return this.each(function(){this.nodeType===1&&e.split(" ").forEach(function(t){He(this,t)},this)})},prop:function(e,t){return e=Re[e]||e,typeof e=="string"&&!(1 in arguments)?this[0]&&this[0][e]:this.each(function(n){if(fe(e))for(C in e)this[Re[C]||C]=e[C];else this[e]=ne(this,t,n,this[e])})},removeProp:function(e){return e=Re[e]||e,this.each(function(){delete this[e]})},data:function(e,t){var n="data-"+e.replace(Rt,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,t):this.attr(n);return i!==null?gt(i):P},val:function(e){return 0 in arguments?(e==null&&(e=""),this.each(function(t){this.value=ne(this,e,t,this.value)})):this[0]&&(this[0].multiple?a(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(n){var i=a(this),s=ne(this,e,n,i.offset()),u=i.offsetParent().offset(),k={top:s.top-u.top,left:s.left-u.left};i.css("position")=="static"&&(k.position="relative"),i.css(k)});if(!this.length)return null;if(N.documentElement!==this[0]&&!a.contains(N.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(e,t){if(arguments.length<2){var n=this[0];if(typeof e=="string")return n?n.style[ze(e)]||getComputedStyle(n,"").getPropertyValue(e):void 0;if(me(e)){if(!n)return;var i={},s=getComputedStyle(n,"");return a.each(e,function(k,F){i[F]=n.style[ze(F)]||s.getPropertyValue(F)}),i}}var u="";if(Se(e)=="string")!t&&t!==0?this.each(function(){this.style.removeProperty(we(e))}):u=we(e)+":"+ft(e,t);else for(C in e)!e[C]&&e[C]!==0?this.each(function(){this.style.removeProperty(we(C))}):u+=we(C)+":"+ft(C,e[C])+";";return this.each(function(){this.style.cssText+=";"+u})},index:function(e){return e?this.indexOf(a(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?Z.some.call(this,function(t){return this.test(de(t))},dt(e)):!1},addClass:function(e){return e?this.each(function(t){if("className"in this){ae=[];var n=de(this),i=ne(this,e,t,n);i.split(/\s+/g).forEach(function(s){a(this).hasClass(s)||ae.push(s)},this),ae.length&&de(this,n+(n?" ":"")+ae.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===P)return de(this,"");ae=de(this),ne(this,e,t,ae).split(/\s+/g).forEach(function(n){ae=ae.replace(dt(n)," ")}),de(this,ae.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var i=a(this),s=ne(this,e,n,de(this));s.split(/\s+/g).forEach(function(u){(t===P?!i.hasClass(u):t)?i.addClass(u):i.removeClass(u)})}):this},scrollTop:function(e){if(!!this.length){var t="scrollTop"in this[0];return e===P?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(!!this.length){var t="scrollLeft"in this[0];return e===P?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(!!this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),i=lt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(a(e).css("margin-top"))||0,n.left-=parseFloat(a(e).css("margin-left"))||0,i.top+=parseFloat(a(t[0]).css("border-top-width"))||0,i.left+=parseFloat(a(t[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||N.body;e&&!lt.test(e.nodeName)&&a(e).css("position")=="static";)e=e.offsetParent;return e})}};a.fn.detach=a.fn.remove;["width","height"].forEach(function(e){var t=e.replace(/./,function(n){return n[0].toUpperCase()});a.fn[e]=function(n){var i,s=this[0];return n===P?Te(s)?s["inner"+t]:Je(s)?s.documentElement["scroll"+t]:(i=this.offset())&&i[e]:this.each(function(u){s=a(this),s.css(e,ne(this,n,u,s[e]()))})}});function bt(e,t){t(e);for(var n=0,i=e.childNodes.length;n<i;n++)bt(e.childNodes[n],t)}Ut.forEach(function(e,t){var n=t%2;a.fn[e]=function(){var i,s=a.map(arguments,function(F){var w=[];return i=Se(F),i=="array"?(F.forEach(function(A){if(A.nodeType!==P)return w.push(A);if(a.zepto.isZ(A))return w=w.concat(A.get());w=w.concat(x.fragment(A))}),w):i=="object"||F==null?F:x.fragment(F)}),u,k=this.length>1;return s.length<1?this:this.each(function(F,w){u=n?w:w.parentNode,w=t==0?w.nextSibling:t==1?w.firstChild:t==2?w:null;var A=a.contains(N.documentElement,u);s.forEach(function(V){if(k)V=V.cloneNode(!0);else if(!u)return a(V).remove();u.insertBefore(V,w),A&&bt(V,function(o){if(o.nodeName!=null&&o.nodeName.toUpperCase()==="SCRIPT"&&(!o.type||o.type==="text/javascript")&&!o.src){var z=o.ownerDocument?o.ownerDocument.defaultView:window;z.eval.call(z,o.innerHTML)}})})})},a.fn[n?e+"To":"insert"+(t?"Before":"After")]=function(i){return a(i)[e](this),this}});x.Z.prototype=vt.prototype=a.fn;x.uniq=Be;x.deserializeValue=gt;a.zepto=x;var W=a;const Ke=e=>(We("data-v-7474c578"),e=e(),Xe(),e),Xt=["src"],Yt=["src"],Gt={key:3,class:"img-loading"},Kt=["width","height"],Qt=Ke(()=>f("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"},null,-1)),en=Ke(()=>f("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"},null,-1)),tn=Ke(()=>f("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"},null,-1)),nn=[Qt,en,tn],on={key:0,class:"transform-tips"},an={key:1,class:"transform-bookmark-wrapper"},rn={key:0,class:"details"},ln={key:1,class:"title"},sn={class:"footer",style:{"text-align":"right",padding:"12px"}},un=["loading"],cn=qe({__name:"ConfigDialog",props:{boxSize:String,boxRadius:String,iconSize:String},emits:["add","edit","import"],setup(e,{expose:t,emit:n}){const i=[{label:"API\u83B7\u53D6",value:"api"},{label:"\u6587\u5B57\u56FE\u6807",value:"text"},{label:"\u7F51\u7EDC\u56FE\u7247",value:"network"}],s=T(!1),u=T(),k=T(""),F=T(!0),w=T(!1),A=T(!1),{t:V}=ht(),o=Et({formData:{id:"",type:"icon",title:"",url:"",iconType:"api",iconPath:"",bgColor:"rgba(241, 243, 244, 1)",children:[]},formRules:{title:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898",trigger:"blur"}],url:[{required:!0,message:"\u8BF7\u8F93\u5165\u7F51\u7AD9\u5730\u5740",trigger:"blur"}],iconType:[{required:!0,message:"\u8BF7\u9009\u62E9\u56FE\u6807\u7C7B\u578B",trigger:"change"}],iconPath:[{validator:L,trigger:"blur"}]}}),z=T();function L(d,c,J){o.formData.iconType==="network"&&!c?J(new Error("\u8BF7\u8F93\u5165\u56FE\u6807\u5730\u5740")):J()}const q=Q(()=>o.formData.iconType==="api"&&k.value||o.formData.iconType==="network"&&o.formData.iconPath||o.formData.iconType==="text"&&o.formData.title),pe=()=>{var d;o.formData.url?((d=o.formData.iconPath)!=null&&d.includes("data:image")&&(o.formData.iconType="api",o.formData.iconPath=""),k.value=Pe(o.formData.url),fetch(`${_t}/api/title?url=${encodeURIComponent(o.formData.url.replace(/http(s)?:\/\//,""))}`).then(c=>c.json()).then(c=>{o.formData.title||(o.formData.title=c.title)})):k.value=""};Ct(()=>k.value,d=>{d?A.value=!0:A.value=!1});const Y=()=>{o.formData.iconType==="text"?o.formData.iconPath="rgba(48,50,56,1)":o.formData.iconPath="",o.formData.url&&o.formData.iconType==="api"&&(k.value=Pe(o.formData.url))},ge=()=>{u.value.validate(async d=>{if(d){if(w.value=!0,o.formData.type==="icon")try{if(F.value&&o.formData.iconType==="api"&&k.value&&o.formData.url){const c=await At(Pe(o.formData.url),"image/x-icon");o.formData.iconType="network",o.formData.iconPath=c}else o.formData.iconType==="api"&&k.value&&o.formData.url&&(o.formData.iconType="network",o.formData.iconPath=await Vt(o.formData.url))}catch{Ue({title:V("\u63D0\u793A"),type:"error",message:V("\u65E0\u6CD5\u83B7\u53D6\u5230\u56FE\u6807\uFF0C\u4F7F\u7528\u6587\u5B57\u56FE\u6807\u4EE3\u66FF")}),o.formData.iconType="text",o.formData.iconPath="rgba(52,54,62,1)"}if(o.formData.type==="file"){if(!G.value||G.value.length===0)return;n("import",Oe(G.value))}else o.formData.id?n("edit",Ee({},JSON.parse(JSON.stringify(o.formData))),Oe(z.value)):(o.formData.id=$e(),n("add",Ee({},JSON.parse(JSON.stringify(o.formData))),Oe(z.value)));w.value=!1,De()}else return!1})},Ne=(d,c)=>{w.value=!1,d&&(o.formData={id:d.id,type:d.type,title:d.title,url:d.url,iconType:d.iconType,iconPath:d.iconPath,bgColor:d.bgColor,children:d.children||[]}),c&&(z.value=c),s.value=!0},be=()=>{u.value.resetFields(),k.value="",o.formData={id:"",type:"icon",title:"",url:"",iconType:"api",iconPath:"",bgColor:"rgba(241, 243, 244, 1)",children:[]},z.value=null,G.value=[]},De=()=>{be(),s.value=!1},he=T(),G=T([]),Ae=()=>{he.value.click(),he.value.onchange=d=>{const c=()=>{Ue({title:V("\u5F02\u5E38"),type:"error",message:V("\u8BC6\u522B\u6587\u4EF6\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u6587\u4EF6")})},J=d.currentTarget;if(J){const{files:re}=J,I=new FileReader;I.readAsText(re[0],"UTF-8"),I.onload=ce=>{var te;const O=(te=ce.target)==null?void 0:te.result;try{const j=W(O).children("dt").first().children("dl").children("dt"),R=[];j.map((y,H)=>{if(W(H).children().length===1){const le=W(H).children("a").text(),r=W(H).children("a").attr("href"),h=W(H).children("a").attr("icon");R.push({title:le,href:r,icon:h})}else if(W(H).children().length===3){const le=W(H).children("h3").text(),r=[];W(H).children("dl").children("dt").map((h,l)=>{if(W(l).children().length===1){const E=W(l).children("a").text(),m=W(l).children("a").attr("href"),$=W(l).children("a").attr("icon");r.push({title:E,href:m,icon:$})}}),R.push({title:le,children:r})}}),!R||R.length===0?c():G.value=R}catch{c()}},I.onerror=()=>c()}}};return t({open:Ne,close:be}),(d,c)=>{const J=ee("el-radio"),re=ee("el-radio-group"),I=ee("el-form-item"),ce=ee("el-input"),O=ee("Icon"),te=ee("el-switch"),j=ee("el-form"),R=ee("easy-dialog");return p(),ie(R,{modelValue:s.value,"onUpdate:modelValue":c[10]||(c[10]=y=>s.value=y),title:o.formData.id?d.$t("\u7F16\u8F91\u4E66\u7B7E"):d.$t("\u6DFB\u52A0\u4E66\u7B7E"),width:"min(480px, 98vw)",height:"min(520px, 90vh)",customClass:"bookmark-config-dialog",onClose:be},{footer:S(()=>[f("div",sn,[f("button",{type:"button",class:"btn",onClick:De},_(d.$t("\u53D6\u6D88")),1),f("button",{type:"button",class:"btn btn-primary",loading:w.value,onClick:ge},_(d.$t("\u786E\u8BA4")),9,un)])]),default:S(()=>[b(j,{ref_key:"form",ref:u,"label-width":"110px",model:o.formData,rules:o.formRules},{default:S(()=>[b(I,{label:d.$t("\u7C7B\u578B")},{default:S(()=>[b(re,{modelValue:o.formData.type,"onUpdate:modelValue":c[0]||(c[0]=y=>o.formData.type=y),disabled:!!o.formData.id},{default:S(()=>[b(J,{label:"icon"},{default:S(()=>[oe(_(d.$t("\u56FE\u6807")),1)]),_:1}),b(J,{label:"folder",disabled:!!z.value},{default:S(()=>[oe(_(d.$t("\u6587\u4EF6\u5939")),1)]),_:1},8,["disabled"]),b(J,{label:"file",disabled:!!z.value},{default:S(()=>[oe(_(d.$t("\u4ECEChrome\u4E66\u7B7E\u5BFC\u5165")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"]),o.formData.type==="icon"?(p(),ie(I,{key:0,label:d.$t("\u7F51\u7AD9\u5730\u5740"),prop:"url"},{default:S(()=>[b(ce,{modelValue:o.formData.url,"onUpdate:modelValue":c[1]||(c[1]=y=>o.formData.url=y),placeholder:d.$t("\u8BF7\u8F93\u5165\u7F51\u7AD9\u5730\u5740"),onBlur:pe},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):D("",!0),o.formData.type!=="file"?(p(),ie(I,{key:1,label:o.formData.type==="icon"?d.$t("\u7F51\u7AD9\u540D\u79F0"):d.$t("\u6587\u4EF6\u5939\u540D\u79F0"),prop:"title"},{default:S(()=>[b(ce,{modelValue:o.formData.title,"onUpdate:modelValue":c[2]||(c[2]=y=>o.formData.title=y),placeholder:o.formData.type==="icon"?d.$t("\u8BF7\u8F93\u5165\u7F51\u7AD9\u540D\u79F0"):d.$t("\u8BF7\u8F93\u5165\u6587\u4EF6\u5939\u540D\u79F0")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):D("",!0),o.formData.type==="icon"?(p(),g(X,{key:2},[b(I,{label:d.$t("\u7F51\u7AD9\u56FE\u6807"),prop:"iconType"},{default:S(()=>[b(re,{modelValue:o.formData.iconType,"onUpdate:modelValue":c[3]||(c[3]=y=>o.formData.iconType=y),onChange:Y},{default:S(()=>[(p(),g(X,null,ve(i,y=>b(J,{label:y.value,key:y.value},{default:S(()=>[oe(_(d.$t(y.label)),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["label"]),o.formData.iconType==="network"?(p(),ie(I,{key:0,label:d.$t("\u56FE\u6807\u5730\u5740"),prop:"iconPath"},{default:S(()=>[b(ce,{modelValue:o.formData.iconPath,"onUpdate:modelValue":c[4]||(c[4]=y=>o.formData.iconPath=y),placeholder:d.$t("\u8BF7\u8F93\u5165\u56FE\u6807\u5730\u5740")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):D("",!0),o.formData.iconType==="text"?(p(),ie(I,{key:1,label:d.$t("\u6587\u672C\u989C\u8272"),prop:"iconPath"},{default:S(()=>[b(it,{"show-alpha":"",modelValue:o.formData.iconPath,"onUpdate:modelValue":c[5]||(c[5]=y=>o.formData.iconPath=y)},null,8,["modelValue"])]),_:1},8,["label"])):D("",!0)],64)):D("",!0),o.formData.type!=="file"?(p(),g(X,{key:3},[b(I,{label:d.$t("\u80CC\u666F\u989C\u8272"),prop:"bgColor"},{default:S(()=>[b(it,{"show-alpha":"",modelValue:o.formData.bgColor,"onUpdate:modelValue":c[6]||(c[6]=y=>o.formData.bgColor=y)},null,8,["modelValue"])]),_:1},8,["label"]),b(I,{label:d.$t("\u56FE\u6807\u9884\u89C8")},{default:S(()=>{var y;return[f("div",{class:"icon-img-preview-box",style:M({width:e.boxSize,height:e.boxSize,borderRadius:e.boxRadius,background:o.formData.bgColor})},[o.formData.type==="icon"&&v(q)?(p(),g(X,{key:0},[o.formData.iconType==="network"?(p(),g("img",{key:0,src:o.formData.iconPath,style:M({width:e.iconSize,height:e.iconSize})},null,12,Xt)):D("",!0),o.formData.iconType==="api"&&k.value?(p(),g("img",{key:1,src:k.value,style:M({width:e.iconSize,height:e.iconSize}),onLoad:c[7]||(c[7]=H=>A.value=!1),onError:c[8]||(c[8]=H=>A.value=!1)},null,44,Yt)):D("",!0),o.formData.iconType==="text"?(p(),g("div",{key:2,style:M({fontSize:e.iconSize,color:o.formData.iconPath}),class:"no-icon"},_((y=o.formData.title)==null?void 0:y.slice(0,1)),5)):D("",!0),o.formData.iconType==="api"&&A.value?(p(),g("div",Gt,[b(O,{name:"loader-2",size:e.iconSize,class:"infinty-loading"},null,8,["size"])])):D("",!0)],64)):D("",!0),o.formData.type==="folder"?(p(),g("svg",{key:1,viewBox:"0 0 1124 1024",width:(e.iconSize||"32").replace("px",""),height:(e.iconSize||"32").replace("px","")},nn,8,Kt)):D("",!0)],4)]}),_:1},8,["label"])],64)):D("",!0),o.formData.type==="icon"?(p(),ie(I,{key:4,label:d.$t("\u7F13\u5B58\u56FE\u6807")},{default:S(()=>[b(te,{modelValue:F.value,"onUpdate:modelValue":c[9]||(c[9]=y=>F.value=y)},null,8,["modelValue"])]),_:1},8,["label"])):D("",!0),o.formData.type==="file"?(p(),ie(I,{key:5,label:d.$t("\u4E66\u7B7EHTML")},{default:S(()=>[f("button",{type:"button",class:"btn btn-warning",onClick:Ae},_(d.$t("\u5BFC\u5165\u6587\u4EF6")),1),f("input",{type:"file",accept:".html",style:{display:"none"},ref_key:"htmlRef",ref:he},null,512),G.value.length?(p(),g("div",on,_(d.$t("\u89E3\u6790\u4E66\u7B7E\u6587\u4EF6\u6210\u529F\uFF0C\u89E3\u6790\u7ED3\u679C\u5982\u4E0B")),1)):D("",!0),G.value.length?(p(),g("div",an,[(p(!0),g(X,null,ve(G.value,(y,H)=>(p(),g(X,{key:H},[y.children?(p(),g("details",rn,[f("summary",null,_(y.title),1),(p(!0),g(X,null,ve(y.children,(le,r)=>(p(),g("div",{key:r,class:"sub-title"},_(le.title),1))),128))])):(p(),g("div",ln,_(y.title),1))],64))),128))])):D("",!0)]),_:1},8,["label"])):D("",!0)]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});var dn=Ze(cn,[["__scopeId","data-v-7474c578"]]);const yt=e=>(We("data-v-7baa37b9"),e=e(),Xe(),e),fn=yt(()=>f("div",{class:"folder-wrapper"},[f("svg",{viewBox:"0 0 1124 1024",width:"20",height:"20"},[f("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"}),f("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"}),f("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"})]),f("div",{class:"folder-name"},"__ROOT__")],-1)),pn={class:"folder-wrapper"},hn=yt(()=>f("svg",{viewBox:"0 0 1124 1024",width:"20",height:"20"},[f("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"}),f("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"}),f("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"})],-1)),vn={class:"folder-name"},mn={class:"footer",style:{"text-align":"right",padding:"12px"}},gn=qe({__name:"MoveDialog",props:{folderList:{type:Array,default:()=>[]}},setup(e,{expose:t}){const n=T(!1),i=T(!1);let s,u;const k=o=>(n.value=!0,i.value=!!o,new Promise((z,L)=>{s=z,u=L})),F=T("$root"),w=()=>{n.value=!1},A=()=>{u()},V=()=>{!F.value||(s(F.value),w())};return t({move:k}),(o,z)=>{const L=ee("el-radio"),q=ee("el-radio-group"),pe=ee("easy-dialog");return p(),ie(pe,{modelValue:n.value,"onUpdate:modelValue":z[1]||(z[1]=Y=>n.value=Y),title:o.$t("\u9009\u62E9\u6587\u4EF6\u5939"),width:"min(280px, 90vw)",height:"min(320px, 60vh)",onClose:A,customWrapperClass:"bookmark-config-dialog"},{footer:S(()=>[f("div",mn,[f("button",{type:"button",class:"btn",onClick:w},_(o.$t("\u53D6\u6D88")),1),f("button",{type:"button",class:"btn btn-primary",onClick:V},_(o.$t("\u786E\u8BA4")),1)])]),default:S(()=>[b(q,{modelValue:F.value,"onUpdate:modelValue":z[0]||(z[0]=Y=>F.value=Y)},{default:S(()=>[i.value?(p(),ie(L,{key:0,label:"$root"},{default:S(()=>[fn]),_:1})):D("",!0),(p(!0),g(X,null,ve(e.folderList,Y=>(p(),ie(L,{label:Y.id,key:Y.id},{default:S(()=>[f("div",pn,[hn,f("div",vn,_(Y.title),1)])]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","title"])}}});var bn=Ze(gn,[["__scopeId","data-v-7baa37b9"]]);const Qe=e=>(We("data-v-456c8cbe"),e=e(),Xe(),e),yn=["onClick"],wn=["src"],kn=["width","height"],xn=Qe(()=>f("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"},null,-1)),Sn=Qe(()=>f("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"},null,-1)),Dn=Qe(()=>f("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"},null,-1)),En=[xn,Sn,Dn],Cn={class:"tile-title"},_n={key:0,class:"selected-icon"},Fn={class:"btn-add-wrapper"},$n={key:0,class:"popover-wrapper"},zn={class:"title"},Bn=["onClick"],Tn=["src"],Nn={key:0,class:"selected-icon"},An={key:0,class:"batch-operation-wrapper"},Vn={class:"selected-count"},On={class:"num"},Pn={class:"operation-btn-wrapper"},Ln={key:0,class:"batch-operation-wrapper"},In={class:"selected-count"},Mn={class:"num"},Rn={class:"operation-btn-wrapper"},Hn=qe({__name:"index",props:{componentSetting:{type:Object,required:!0},element:{type:Object,required:!0},isAction:{type:Boolean,default:!1}},setup(e){const t=e;Nt(r=>({c3119202:v(o),"817ffc8a":v(z),"5a54214c":v(k),"72e809ab":v(F),"5347e228":v(w),e69711e2:v(A),"094f25a4":v(V)}));const n=nt(Ee({},ot),{updated:ot.mounted}),{t:i}=ht(),s=T(),u=Q(()=>L.isLock),k=Q(()=>t.componentSetting.boxSize+"px"),F=Q(()=>t.componentSetting.boxRadius+"px"),w=Q(()=>t.componentSetting.iconSize+"px"),A=Q(()=>t.componentSetting.textFontSize+"px"),V=Q(()=>t.componentSetting.textColor),o=Q(()=>t.componentSetting.padding+"px"),z=Q(()=>`${t.componentSetting.boxSize+t.componentSetting.textFontSize*1.5+t.componentSetting.padding*2+8}px`),L=Ft(),q=Q({get:()=>t.componentSetting.bookmark,set:r=>{const h=JSON.parse(JSON.stringify(t.element));t.isAction?(h.componentSetting.actionClickValue.componentSetting.bookmark=r,L.updateActionElement(h)):h.componentSetting.bookmark=r,L.editComponent(h)}}),pe=T([{label:()=>i("\u6DFB\u52A0"),icon:ye(U,{name:"add",size:18}),fn:r=>{ge(r.parent)}},{label:()=>i("\u7F16\u8F91"),fn:r=>{Y(r.element,r.parent)},icon:ye(U,{name:"lock",size:18})},{label:()=>i("\u79FB\u52A8"),fn:r=>{d([r.element],!1,r.parent)},hidden:r=>r.element.type==="folder",icon:ye(U,{name:"send-plane",size:18})},{label:()=>i("\u5220\u9664"),fn:r=>{d([r.element],!0,r.parent)},icon:ye(U,{name:"delete",size:18}),customClass:"delete"},{line:!0},{label:()=>i("\u6279\u91CF\u64CD\u4F5C"),icon:ye(U,{name:"checkbox-multiple",size:18}),fn:r=>{y(r.parent)}}]),Y=(r,h)=>s.value.open(r,h),ge=r=>s.value.open(null,r),Ne=(r,h)=>{const l=JSON.parse(JSON.stringify(t.element)),E=t.isAction?l.componentSetting.actionClickValue.componentSetting.bookmark:l.componentSetting.bookmark;if(h){const m=E.findIndex($=>$.id===h.id);~m&&E[m].children.push(r)}else E.push(r);L.editComponent(l),h&&re()},be=async(r,h)=>{const l=JSON.parse(JSON.stringify(t.element)),E=t.isAction?l.componentSetting.actionClickValue.componentSetting.bookmark:l.componentSetting.bookmark;if(h){const m=E.findIndex(B=>B.id===h.id);if(!~m)return;const $=E[m].children.findIndex(B=>B.id===r.id);~$&&(E[m].children[$]=r)}else{const m=E.findIndex($=>$.id===r.id);~m&&(E[m]=r)}L.editComponent(l),h&&re()},De=r=>{const h=r.map(m=>m.children?(m.children=m.children.map($=>({bgColor:"rgba(241, 243, 244, 1)",iconPath:$.icon||"rgba(48,50,56,1)",iconType:$.icon?"network":"text",id:$e(),title:$.title,type:"icon",url:$.href})),{bgColor:"rgba(241, 243, 244, 1)",children:m.children,iconPath:"",iconType:"api",id:$e(),title:m.title,type:"folder",url:""}):{bgColor:"rgba(241, 243, 244, 1)",children:[],iconPath:m.icon||"rgba(48,50,56,1)",iconType:m.icon?"network":"text",id:$e(),title:m.title,type:"icon",url:m.href}),l=JSON.parse(JSON.stringify(t.element));(t.isAction?l.componentSetting.actionClickValue.componentSetting.bookmark:l.componentSetting.bookmark).push(...h),L.editComponent(l)},he=(r,h)=>{if(O.value){const l=R.value.findIndex(E=>E===r.id);~l?(j.value.splice(l,1),R.value.splice(l,1)):(j.value.push(r),R.value.push(r.id))}else if(r.type==="icon"){let l=r.url;/https?:\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/.test(l)||(l="https://"+l),t.componentSetting.jumpType===2?window.location.href=l:window.open(l)}else r.type==="folder"&&(J.value.defaultOpen({w:Math.min(720,window.innerWidth*.9),h:Math.min(400,window.innerHeight*.75),direction:0},h.currentTarget),c.value=r)},G=T(),Ae=Q(()=>q.value.filter(r=>r.type==="folder")),d=async(r,h=!1,l)=>{if(!(!r||r.length===0))try{const E=JSON.parse(JSON.stringify(t.element)),m=t.isAction?E.componentSetting.actionClickValue.componentSetting.bookmark:E.componentSetting.bookmark;if(h){if(!confirm(i("\u786E\u8BA4\u8981\u5220\u9664\u6240\u9009\u9879?")))return}else{const $=await G.value.move(l);if($===(l==null?void 0:l.id))return;if(r.filter(B=>B.type==="folder").length&&(Ue({title:i("\u63D0\u793A"),message:i("\u76EE\u524D\u6682\u4E0D\u652F\u6301\u79FB\u52A8\u6587\u4EF6\u5939")}),r=r.filter(B=>B.type!=="folder")),$==="$root")r.map(B=>{~m.findIndex(K=>K.id===B.id)||m.push(B)});else{const B=m.findIndex(K=>K.id===$);~B&&r.map(K=>{~m[B].children.findIndex(Ve=>Ve.id===K.id)||m[B].children.push(K)})}}if(l){const $=m.findIndex(B=>B.id===l.id);r.map(B=>{const K=m[$].children.findIndex(Ve=>Ve.id===B.id);~K&&m[$].children.splice(K,1)})}else r.map($=>{const B=m.findIndex(K=>K.id===$.id);~B&&m.splice(B,1)});t.isAction&&L.updateActionElement(E),L.editComponent(E),l&&re(),O.value&&(O.value=!1,j.value=[],R.value=[])}catch(E){console.error(E),console.log("Cancel Move")}},c=T(),J=T(),re=async()=>{await $t();const r=q.value.findIndex(h=>{var l;return h.id===((l=c.value)==null?void 0:l.id)});~r&&(c.value=q.value[r])},I=()=>{var E;const r=JSON.parse(JSON.stringify(t.element)),h=t.isAction?r.componentSetting.actionClickValue.componentSetting.bookmark:r.componentSetting.bookmark,l=q.value.findIndex(m=>{var $;return m.id===(($=c.value)==null?void 0:$.id)});h[l].children=(E=c.value)==null?void 0:E.children,L.editComponent(r)},ce=()=>{c.value=null},O=T(!1),te=T(),j=T([]),R=T([]),y=r=>{O.value=!0,te.value=r},H=()=>{O.value=!1,j.value.length=0,R.value.length=0},le=r=>{O.value&&(H(),r.preventDefault(),document.oncontextmenu=h=>h.preventDefault())};return zt(()=>document.addEventListener("contextmenu",le)),Bt(()=>document.removeEventListener("contextmenu",le)),(r,h)=>(p(),g("div",{class:"wrapper",style:M({fontSize:e.componentSetting.textFontSize+"px",color:e.componentSetting.textColor,padding:e.componentSetting.padding+"px"})},[f("div",{class:"bookmark-wrapper",style:M({maxWidth:`${e.componentSetting.maxWidth||880}px`,pointerEvents:v(u)?"all":"none"})},[b(v(rt),{modelValue:v(q),"onUpdate:modelValue":h[1]||(h[1]=l=>Tt(q)?q.value=l:null),class:"bookmark-draggable-wrapper","item-key":"id"},{item:S(({element:l,index:E})=>[Ce((p(),g("div",{class:_e(["item"]),onClick:m=>he(l,m)},[f("div",{class:_e(["tile-icon",O.value&&!te.value&&"bounce-icon"]),style:M({background:l.bgColor,boxShadow:e.componentSetting.boxShadow})},[l.type!=="folder"?(p(),g(X,{key:0},[l.iconType==="network"?(p(),g("img",{key:0,src:l.iconPath,alt:""},null,8,wn)):D("",!0),l.iconType==="text"?(p(),g("div",{key:1,style:M({fontSize:v(w),color:l.iconPath}),class:"no-icon"},_(l.title.slice(0,1)),5)):D("",!0)],64)):(p(),g("svg",{key:1,viewBox:"0 0 1124 1024",width:(v(w)||"32").replace("px",""),height:(v(w)||"32").replace("px","")},En,8,kn))],6),f("div",Cn,_(l.title),1),R.value.includes(l.id)?(p(),g("div",_n,[b(U,{name:"check",size:"30"})])):D("",!0)],8,yn)),[[n,{disabled:()=>O.value,params:{element:l,index:E},menuList:pe.value,width:120,iconType:"vnode-icon"}]])]),footer:S(()=>[O.value?D("",!0):Ce((p(),g("div",{key:0,class:"item btn-add-item",onClick:h[0]||(h[0]=l=>ge())},[f("div",Fn,[b(U,{name:"add"})])],512)),[[at,!e.componentSetting.hiddenAddBtn||v(q).length===0]]),(p(),g(X,null,ve(20,l=>f("div",{class:"item fake",key:l})),64))]),_:1},8,["modelValue"])],4),b(dn,{ref_key:"configDialog",ref:s,boxSize:v(k),boxRadius:v(F),iconSize:v(w),onAdd:Ne,onEdit:be,onImport:De},null,8,["boxSize","boxRadius","iconSize"]),b(bn,{ref_key:"moveDialog",ref:G,folderList:v(Ae)},null,8,["folderList"]),b(Ot,{ref_key:"popover",ref:J,"close-on-click-outside":!!e.componentSetting.closeClickOutside,onClosed:ce,zIndex:1e3},{default:S(()=>[c.value?(p(),g("div",$n,[f("div",zn,_(c.value.title),1),b(v(rt),{modelValue:c.value.children,"onUpdate:modelValue":h[3]||(h[3]=l=>c.value.children=l),class:"bookmark-draggable-wrapper","item-key":"id",onEnd:I},{item:S(({element:l,index:E})=>[Ce((p(),g("div",{class:_e(["item"]),style:M({width:v(z),height:v(z),padding:v(o)}),onClick:m=>he(l)},[f("div",{class:_e(["tile-icon",O.value&&te.value&&"bounce-icon"]),style:M({background:l.bgColor,boxShadow:e.componentSetting.boxShadow,width:v(k),height:v(k),borderRadius:v(F)})},[l.type!=="folder"?(p(),g(X,{key:0},[l.iconType==="network"?(p(),g("img",{key:0,style:M({width:v(w),height:v(w)}),src:l.iconPath,alt:""},null,12,Tn)):D("",!0),l.iconType==="text"?(p(),g("div",{key:1,style:M({fontSize:v(w),color:l.iconPath}),class:"no-icon"},_(l.title.slice(0,1)),5)):D("",!0)],64)):D("",!0)],6),f("div",{class:"tile-title",style:M({fontSize:v(A),color:v(V)})},_(l.title),5),R.value.includes(l.id)?(p(),g("div",Nn,[b(U,{name:"check",size:"30"})])):D("",!0)],12,Bn)),[[n,{params:{element:l,index:E,parent:c.value},menuList:pe.value,width:120,iconType:"vnode-icon"}]])]),footer:S(()=>[O.value?D("",!0):Ce((p(),g("div",{key:0,class:"item btn-add-item",style:M({width:v(z),height:v(z),padding:v(o)}),onClick:h[2]||(h[2]=l=>ge(c.value))},[f("div",{class:"btn-add-wrapper",style:M({color:v(V),border:`2px dashed ${v(V)}`})},[b(U,{name:"add"})],4)],4)),[[at,!e.componentSetting.hiddenAddBtn||c.value.children&&c.value.children.length===0]]),(p(),g(X,null,ve(20,l=>f("div",{class:"item fake",style:M({width:v(z),padding:`0 ${v(o)}`}),key:l},null,4)),64))]),_:1},8,["modelValue"]),O.value&&te.value?(p(),g("div",An,[f("div",{class:"close-btn",onClick:H},[b(U,{name:"close"})]),f("div",Vn,[f("span",On,_(j.value.length),1),oe(_(r.$t("\u9879\u5DF2\u9009\u62E9")),1)]),f("div",Pn,[f("div",{class:"move-btn",onClick:h[4]||(h[4]=l=>d(j.value,!1,c.value))},[b(U,{name:"send-plane",size:"16"}),oe(" "+_(r.$t("\u79FB\u52A8")),1)]),f("div",{class:"del-btn",onClick:h[5]||(h[5]=l=>d(j.value,!0,c.value))},[b(U,{name:"delete",size:"16"}),oe(" "+_(r.$t("\u5220\u9664")),1)])])])):D("",!0)])):D("",!0)]),_:1},8,["close-on-click-outside"]),O.value&&!te.value?(p(),g("div",Ln,[f("div",{class:"close-btn",onClick:H},[b(U,{name:"close"})]),f("div",In,[f("span",Mn,_(j.value.length),1),oe(_(r.$t("\u9879\u5DF2\u9009\u62E9")),1)]),f("div",Rn,[f("div",{class:"move-btn",onClick:h[6]||(h[6]=l=>d(j.value))},[b(U,{name:"send-plane",size:"16"}),oe(" "+_(r.$t("\u79FB\u52A8")),1)]),f("div",{class:"del-btn",onClick:h[7]||(h[7]=l=>d(j.value,!0))},[b(U,{name:"delete",size:"16"}),oe(" "+_(r.$t("\u5220\u9664")),1)])])])):D("",!0)],4))}});var Xn=Ze(Hn,[["__scopeId","data-v-456c8cbe"]]);export{Xn as default};
