var ke=Object.defineProperty,we=Object.defineProperties;var Se=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var De=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var ee=(t,e,n)=>e in t?ke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ct=(t,e)=>{for(var n in e||(e={}))De.call(e,n)&&ee(t,n,e[n]);if(te)for(var n of te(e))Ee.call(e,n)&&ee(t,n,e[n]);return t},ne=(t,e)=>we(t,Se(e));import{_ as qt,d as jt,r as z,I as pe,a as Ce,G as Q,w as xe,f as tt,o as p,c as it,b as D,g as h,t as F,h as y,i as s,U as ot,j as E,k as g,F as X,m as vt,a2 as ie,E as M,P as Fe,K as Ut,s as Ot,a3 as $t,p as Wt,q as Xt,a4 as oe,u as _e,a5 as bt,a6 as U,a0 as $e,x as Be,y as Te,a7 as ze,Q as Ne,N as xt,D as Ft,R as ae}from"./index.b58aa1db.js";import{D as re}from"./vuedraggable.umd.edaca425.js";import{a as Pt,b as Ae,c as Ve}from"./images.11b9d7d9.js";import Oe from"./ActionPopover.2ba22533.js";import"./direction.8b21c0ae.js";var P,x,a,at,q=[],Pe=q.concat,St=q.filter,ut=q.slice,N=window.document,Lt={},It={},Le={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},Jt=/^\s*<(\w+|!)[^>]*>/,Ie=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,le=/^(?:body|html)$/i,Re=/([A-Z])/g,He=["val","css","html","text","data","width","height","offset"],Ue=["after","prepend","before","append"],Mt=N.createElement("table"),se=N.createElement("tr"),ue={tr:N.createElement("tbody"),tbody:Mt,thead:Mt,tfoot:Mt,td:se,th:se,"*":N.createElement("div")},Je=/^[\w-]*$/,Yt={},Ze=Yt.toString,S={},Bt,Tt,ce=N.createElement("div"),Rt={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},mt=Array.isArray||function(t){return t instanceof Array};S.matches=function(t,e){if(!e||!t||t.nodeType!==1)return!1;var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,u=t.parentNode,c=!u;return c&&(u=ce).appendChild(t),i=~S.qsa(u,e).indexOf(t),c&&ce.removeChild(t),i};function Dt(t){return t==null?String(t):Yt[Ze.call(t)]||"object"}function st(t){return Dt(t)=="function"}function zt(t){return t!=null&&t==t.window}function Zt(t){return t!=null&&t.nodeType==t.DOCUMENT_NODE}function dt(t){return Dt(t)=="object"}function wt(t){return dt(t)&&!zt(t)&&Object.getPrototypeOf(t)==Object.prototype}function Gt(t){var e=!!t&&"length"in t&&t.length,n=a.type(t);return n!="function"&&!zt(t)&&(n=="array"||e===0||typeof e=="number"&&e>0&&e-1 in t)}function qe(t){return St.call(t,function(e){return e!=null})}function je(t){return t.length>0?a.fn.concat.apply([],t):t}Bt=function(t){return t.replace(/-+(.)?/g,function(e,n){return n?n.toUpperCase():""})};function kt(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}Tt=function(t){return St.call(t,function(e,n){return t.indexOf(e)==n})};function fe(t){return t in It?It[t]:It[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function de(t,e){return typeof e=="number"&&!Le[kt(t)]?e+"px":e}function We(t){var e,n;return Lt[t]||(e=N.createElement(t),N.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),n=="none"&&(n="block"),Lt[t]=n),Lt[t]}function he(t){return"children"in t?ut.call(t.children):a.map(t.childNodes,function(e){if(e.nodeType==1)return e})}function ve(t,e){var n,i=t?t.length:0;for(n=0;n<i;n++)this[n]=t[n];this.length=i,this.selector=e||""}S.fragment=function(t,e,n){var i,u,c;return Ie.test(t)&&(i=a(N.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(Me,"<$1></$2>")),e===P&&(e=Jt.test(t)&&RegExp.$1),e in ue||(e="*"),c=ue[e],c.innerHTML=""+t,i=a.each(ut.call(c.childNodes),function(){c.removeChild(this)})),wt(n)&&(u=a(i),a.each(n,function(w,_){He.indexOf(w)>-1?u[w](_):u.attr(w,_)})),i};S.Z=function(t,e){return new ve(t,e)};S.isZ=function(t){return t instanceof S.Z};S.init=function(t,e){var n;if(t)if(typeof t=="string")if(t=t.trim(),t[0]=="<"&&Jt.test(t))n=S.fragment(t,RegExp.$1,e),t=null;else{if(e!==P)return a(e).find(t);n=S.qsa(N,t)}else{if(st(t))return a(N).ready(t);if(S.isZ(t))return t;if(mt(t))n=qe(t);else if(dt(t))n=[t],t=null;else if(Jt.test(t))n=S.fragment(t.trim(),RegExp.$1,e),t=null;else{if(e!==P)return a(e).find(t);n=S.qsa(N,t)}}else return S.Z();return S.Z(n,t)};a=function(t,e){return S.init(t,e)};function me(t,e,n){for(x in e)n&&(wt(e[x])||mt(e[x]))?(wt(e[x])&&!wt(t[x])&&(t[x]={}),mt(e[x])&&!mt(t[x])&&(t[x]=[]),me(t[x],e[x],n)):e[x]!==P&&(t[x]=e[x])}a.extend=function(t){var e,n=ut.call(arguments,1);return typeof t=="boolean"&&(e=t,t=n.shift()),n.forEach(function(i){me(t,i,e)}),t};S.qsa=function(t,e){var n,i=e[0]=="#",u=!i&&e[0]==".",c=i||u?e.slice(1):e,w=Je.test(c);return t.getElementById&&w&&i?(n=t.getElementById(c))?[n]:[]:t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11?[]:ut.call(w&&!i&&t.getElementsByClassName?u?t.getElementsByClassName(c):t.getElementsByTagName(e):t.querySelectorAll(e))};function _t(t,e){return e==null?a(t):a(t).filter(e)}a.contains=N.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1};function nt(t,e,n,i){return st(e)?e.call(t,n,i):e}function Ht(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function ft(t,e){var n=t.className||"",i=n&&n.baseVal!==P;if(e===P)return i?n.baseVal:n;i?n.baseVal=e:t.className=e}function ge(t){try{return t&&(t=="true"||(t=="false"?!1:t=="null"?null:+t+""==t?+t:/^[\[\{]/.test(t)?a.parseJSON(t):t))}catch{return t}}a.type=Dt;a.isFunction=st;a.isWindow=zt;a.isArray=mt;a.isPlainObject=wt;a.isEmptyObject=function(t){var e;for(e in t)return!1;return!0};a.isNumeric=function(t){var e=Number(t),n=typeof t;return t!=null&&n!="boolean"&&(n!="string"||t.length)&&!isNaN(e)&&isFinite(e)||!1};a.inArray=function(t,e,n){return q.indexOf.call(e,t,n)};a.camelCase=Bt;a.trim=function(t){return t==null?"":String.prototype.trim.call(t)};a.uuid=0;a.support={};a.expr={};a.noop=function(){};a.map=function(t,e){var n,i=[],u,c;if(Gt(t))for(u=0;u<t.length;u++)n=e(t[u],u),n!=null&&i.push(n);else for(c in t)n=e(t[c],c),n!=null&&i.push(n);return je(i)};a.each=function(t,e){var n,i;if(Gt(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t};a.grep=function(t,e){return St.call(t,e)};window.JSON&&(a.parseJSON=JSON.parse);a.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Yt["[object "+e+"]"]=e.toLowerCase()});a.fn={constructor:S.Z,length:0,forEach:q.forEach,reduce:q.reduce,push:q.push,sort:q.sort,splice:q.splice,indexOf:q.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=S.isZ(e)?e.toArray():e;return Pe.apply(S.isZ(this)?this.toArray():this,n)},map:function(t){return a(a.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return a(ut.apply(this,arguments))},ready:function(t){if(N.readyState==="complete"||N.readyState!=="loading"&&!N.documentElement.doScroll)setTimeout(function(){t(a)},0);else{var e=function(){N.removeEventListener("DOMContentLoaded",e,!1),window.removeEventListener("load",e,!1),t(a)};N.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)}return this},get:function(t){return t===P?ut.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})},each:function(t){return q.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return st(t)?this.not(this.not(t)):a(St.call(this,function(e){return S.matches(e,t)}))},add:function(t,e){return a(Tt(this.concat(a(t,e))))},is:function(t){return typeof t=="string"?this.length>0&&S.matches(this[0],t):t&&this.selector==t.selector},not:function(t){var e=[];if(st(t)&&t.call!==P)this.each(function(i){t.call(this,i)||e.push(this)});else{var n=typeof t=="string"?this.filter(t):Gt(t)&&st(t.item)?ut.call(t):a(t);this.forEach(function(i){n.indexOf(i)<0&&e.push(i)})}return a(e)},has:function(t){return this.filter(function(){return dt(t)?a.contains(this,t):a(this).find(t).size()})},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!dt(t)?t:a(t)},last:function(){var t=this[this.length-1];return t&&!dt(t)?t:a(t)},find:function(t){var e,n=this;return t?typeof t=="object"?e=a(t).filter(function(){var i=this;return q.some.call(n,function(u){return a.contains(u,i)})}):this.length==1?e=a(S.qsa(this[0],t)):e=this.map(function(){return S.qsa(this,t)}):e=a(),e},closest:function(t,e){var n=[],i=typeof t=="object"&&a(t);return this.each(function(u,c){for(;c&&!(i?i.indexOf(c)>=0:S.matches(c,t));)c=c!==e&&!Zt(c)&&c.parentNode;c&&n.indexOf(c)<0&&n.push(c)}),a(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=a.map(n,function(i){if((i=i.parentNode)&&!Zt(i)&&e.indexOf(i)<0)return e.push(i),i});return _t(e,t)},parent:function(t){return _t(Tt(this.pluck("parentNode")),t)},children:function(t){return _t(this.map(function(){return he(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||ut.call(this.childNodes)})},siblings:function(t){return _t(this.map(function(e,n){return St.call(he(n.parentNode),function(i){return i!==n})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return a.map(this,function(e){return e[t]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=""),getComputedStyle(this,"").getPropertyValue("display")=="none"&&(this.style.display=We(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=st(t);if(this[0]&&!e)var n=a(t).get(0),i=n.parentNode||this.length>1;return this.each(function(u){a(this).wrapAll(e?t.call(this,u):i?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){a(this[0]).before(t=a(t));for(var e;(e=t.children()).length;)t=e.first();a(t).append(this)}return this},wrapInner:function(t){var e=st(t);return this.each(function(n){var i=a(this),u=i.contents(),c=e?t.call(this,n):t;u.length?u.wrapAll(c):i.append(c)})},unwrap:function(){return this.parent().each(function(){a(this).replaceWith(a(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=a(this);(t===P?e.css("display")=="none":t)?e.show():e.hide()})},prev:function(t){return a(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return a(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;a(this).empty().append(nt(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=nt(this,t,e,this.textContent);this.textContent=n==null?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,e){var n;return typeof t=="string"&&!(1 in arguments)?0 in this&&this[0].nodeType==1&&(n=this[0].getAttribute(t))!=null?n:P:this.each(function(i){if(this.nodeType===1)if(dt(t))for(x in t)Ht(this,x,t[x]);else Ht(this,t,nt(this,e,i,this.getAttribute(t)))})},removeAttr:function(t){return this.each(function(){this.nodeType===1&&t.split(" ").forEach(function(e){Ht(this,e)},this)})},prop:function(t,e){return t=Rt[t]||t,typeof t=="string"&&!(1 in arguments)?this[0]&&this[0][t]:this.each(function(n){if(dt(t))for(x in t)this[Rt[x]||x]=t[x];else this[t]=nt(this,e,n,this[t])})},removeProp:function(t){return t=Rt[t]||t,this.each(function(){delete this[t]})},data:function(t,e){var n="data-"+t.replace(Re,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,e):this.attr(n);return i!==null?ge(i):P},val:function(t){return 0 in arguments?(t==null&&(t=""),this.each(function(e){this.value=nt(this,t,e,this.value)})):this[0]&&(this[0].multiple?a(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(n){var i=a(this),u=nt(this,t,n,i.offset()),c=i.offsetParent().offset(),w={top:u.top-c.top,left:u.left-c.left};i.css("position")=="static"&&(w.position="relative"),i.css(w)});if(!this.length)return null;if(N.documentElement!==this[0]&&!a.contains(N.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(t,e){if(arguments.length<2){var n=this[0];if(typeof t=="string")return n?n.style[Bt(t)]||getComputedStyle(n,"").getPropertyValue(t):void 0;if(mt(t)){if(!n)return;var i={},u=getComputedStyle(n,"");return a.each(t,function(w,_){i[_]=n.style[Bt(_)]||u.getPropertyValue(_)}),i}}var c="";if(Dt(t)=="string")!e&&e!==0?this.each(function(){this.style.removeProperty(kt(t))}):c=kt(t)+":"+de(t,e);else for(x in t)!t[x]&&t[x]!==0?this.each(function(){this.style.removeProperty(kt(x))}):c+=kt(x)+":"+de(x,t[x])+";";return this.each(function(){this.style.cssText+=";"+c})},index:function(t){return t?this.indexOf(a(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?q.some.call(this,function(e){return this.test(ft(e))},fe(t)):!1},addClass:function(t){return t?this.each(function(e){if("className"in this){at=[];var n=ft(this),i=nt(this,t,e,n);i.split(/\s+/g).forEach(function(u){a(this).hasClass(u)||at.push(u)},this),at.length&&ft(this,n+(n?" ":"")+at.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===P)return ft(this,"");at=ft(this),nt(this,t,e,at).split(/\s+/g).forEach(function(n){at=at.replace(fe(n)," ")}),ft(this,at.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var i=a(this),u=nt(this,t,n,ft(this));u.split(/\s+/g).forEach(function(c){(e===P?!i.hasClass(c):e)?i.addClass(c):i.removeClass(c)})}):this},scrollTop:function(t){if(!!this.length){var e="scrollTop"in this[0];return t===P?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(!!this.length){var e="scrollLeft"in this[0];return t===P?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(!!this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=le.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(a(t).css("margin-top"))||0,n.left-=parseFloat(a(t).css("margin-left"))||0,i.top+=parseFloat(a(e[0]).css("border-top-width"))||0,i.left+=parseFloat(a(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||N.body;t&&!le.test(t.nodeName)&&a(t).css("position")=="static";)t=t.offsetParent;return t})}};a.fn.detach=a.fn.remove;["width","height"].forEach(function(t){var e=t.replace(/./,function(n){return n[0].toUpperCase()});a.fn[t]=function(n){var i,u=this[0];return n===P?zt(u)?u["inner"+e]:Zt(u)?u.documentElement["scroll"+e]:(i=this.offset())&&i[t]:this.each(function(c){u=a(this),u.css(t,nt(this,n,c,u[t]()))})}});function ye(t,e){e(t);for(var n=0,i=t.childNodes.length;n<i;n++)ye(t.childNodes[n],e)}Ue.forEach(function(t,e){var n=e%2;a.fn[t]=function(){var i,u=a.map(arguments,function(_){var k=[];return i=Dt(_),i=="array"?(_.forEach(function(A){if(A.nodeType!==P)return k.push(A);if(a.zepto.isZ(A))return k=k.concat(A.get());k=k.concat(S.fragment(A))}),k):i=="object"||_==null?_:S.fragment(_)}),c,w=this.length>1;return u.length<1?this:this.each(function(_,k){c=n?k:k.parentNode,k=e==0?k.nextSibling:e==1?k.firstChild:e==2?k:null;var A=a.contains(N.documentElement,c);u.forEach(function(V){if(w)V=V.cloneNode(!0);else if(!c)return a(V).remove();c.insertBefore(V,k),A&&ye(V,function(o){if(o.nodeName!=null&&o.nodeName.toUpperCase()==="SCRIPT"&&(!o.type||o.type==="text/javascript")&&!o.src){var B=o.ownerDocument?o.ownerDocument.defaultView:window;B.eval.call(B,o.innerHTML)}})})})},a.fn[n?t+"To":"insert"+(e?"Before":"After")]=function(i){return a(i)[t](this),this}});S.Z.prototype=ve.prototype=a.fn;S.uniq=Tt;S.deserializeValue=ge;a.zepto=S;var W=a;const Kt=t=>(Wt("data-v-7f52e89d"),t=t(),Xt(),t),Xe=["src"],Ye=["src"],Ge={key:3,class:"img-loading"},Ke=["width","height"],Qe=Kt(()=>h("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"},null,-1)),tn=Kt(()=>h("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"},null,-1)),en=Kt(()=>h("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"},null,-1)),nn=[Qe,tn,en],on={key:0,class:"transform-tips"},an={key:1,class:"transform-bookmark-wrapper"},rn={key:0,class:"details"},ln={key:1,class:"title"},sn={class:"footer",style:{"text-align":"right",padding:"12px"}},un=["loading"],cn=jt({props:{boxSize:String,boxRadius:String,iconSize:String},emits:["add","edit","import"],setup(t,{expose:e,emit:n}){const i=[{label:"API\u83B7\u53D6",value:"api"},{label:"\u6587\u5B57\u56FE\u6807",value:"text"},{label:"\u7F51\u7EDC\u56FE\u7247",value:"network"}],u=z(!1),c=z(),w=z(""),_=z(!0),k=z(!1),A=z(!1),{t:V}=pe(),o=Ce({formData:{id:"",type:"icon",title:"",url:"",iconType:"api",iconPath:"",bgColor:"rgba(241, 243, 244, 1)",children:[]},formRules:{title:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898",trigger:"blur"}],url:[{required:!0,message:"\u8BF7\u8F93\u5165\u7F51\u7AD9\u5730\u5740",trigger:"blur"}],iconType:[{required:!0,message:"\u8BF7\u9009\u62E9\u56FE\u6807\u7C7B\u578B",trigger:"change"}],iconPath:[{validator:L,trigger:"blur"}]}}),B=z();function L(d,f,Z){o.formData.iconType==="network"&&!f?Z(new Error("\u8BF7\u8F93\u5165\u56FE\u6807\u5730\u5740")):Z()}const j=Q(()=>o.formData.iconType==="api"&&w.value||o.formData.iconType==="network"&&o.formData.iconPath||o.formData.iconType==="text"&&o.formData.title),ht=()=>{var d;o.formData.url?((d=o.formData.iconPath)!=null&&d.includes("data:image")&&(o.formData.iconType="api",o.formData.iconPath=""),w.value=Pt(o.formData.url),fetch(`${Fe}/api/title?url=${encodeURIComponent(o.formData.url.replace(/http(s)?:\/\//,""))}`).then(f=>f.json()).then(f=>{o.formData.title||(o.formData.title=f.title)})):w.value=""};xe(()=>w.value,d=>{d?A.value=!0:A.value=!1});const Y=()=>{o.formData.iconType==="text"?o.formData.iconPath="rgba(48,50,56,1)":o.formData.iconPath="",o.formData.url&&o.formData.iconType==="api"&&(w.value=Pt(o.formData.url))},gt=()=>{c.value.validate(async d=>{if(d){if(k.value=!0,o.formData.type==="icon")try{if(_.value&&o.formData.iconType==="api"&&w.value&&o.formData.url){const f=await Ae(Pt(o.formData.url),"image/x-icon");o.formData.iconType="network",o.formData.iconPath=f}else o.formData.iconType==="api"&&w.value&&o.formData.url&&(o.formData.iconType="network",o.formData.iconPath=await Ve(o.formData.url))}catch{Ut({title:V("\u63D0\u793A"),type:"error",message:V("\u65E0\u6CD5\u83B7\u53D6\u5230\u56FE\u6807\uFF0C\u4F7F\u7528\u6587\u5B57\u56FE\u6807\u4EE3\u66FF")}),o.formData.iconType="text",o.formData.iconPath="rgba(52,54,62,1)"}if(o.formData.type==="file"){if(!G.value||G.value.length===0)return;n("import",Ot(G.value))}else o.formData.id?n("edit",Ct({},JSON.parse(JSON.stringify(o.formData))),Ot(B.value)):(o.formData.id=$t(),n("add",Ct({},JSON.parse(JSON.stringify(o.formData))),Ot(B.value)));k.value=!1,Et()}else return!1})},Nt=(d,f)=>{k.value=!1,d&&(o.formData={id:d.id,type:d.type,title:d.title,url:d.url,iconType:d.iconType,iconPath:d.iconPath,bgColor:d.bgColor,children:d.children||[]}),f&&(B.value=f),u.value=!0},yt=()=>{c.value.resetFields(),w.value="",o.formData={id:"",type:"icon",title:"",url:"",iconType:"api",iconPath:"",bgColor:"rgba(241, 243, 244, 1)",children:[]},B.value=null,G.value=[]},Et=()=>{yt(),u.value=!1},pt=z(),G=z([]),At=()=>{pt.value.click(),pt.value.onchange=d=>{const f=()=>{Ut({title:V("\u5F02\u5E38"),type:"error",message:V("\u8BC6\u522B\u6587\u4EF6\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u6587\u4EF6")})},Z=d.currentTarget;if(Z){const{files:rt}=Z,I=new FileReader;I.readAsText(rt[0],"UTF-8"),I.onload=ct=>{var et;const O=(et=ct.target)==null?void 0:et.result;try{const J=W(O).children("dt").first().children("dl").children("dt"),R=[];J.map((b,H)=>{if(W(H).children().length===1){const lt=W(H).children("a").text(),r=W(H).children("a").attr("href"),v=W(H).children("a").attr("icon");R.push({title:lt,href:r,icon:v})}else if(W(H).children().length===3){const lt=W(H).children("h3").text(),r=[];W(H).children("dl").children("dt").map((v,l)=>{if(W(l).children().length===1){const C=W(l).children("a").text(),m=W(l).children("a").attr("href"),$=W(l).children("a").attr("icon");r.push({title:C,href:m,icon:$})}}),R.push({title:lt,children:r})}}),!R||R.length===0?f():G.value=R}catch{f()}},I.onerror=()=>f()}}};return e({open:Nt,close:yt}),(d,f)=>{const Z=tt("el-radio"),rt=tt("el-radio-group"),I=tt("el-form-item"),ct=tt("el-input"),O=tt("Icon"),et=tt("el-switch"),J=tt("el-form"),R=tt("easy-dialog");return p(),it(R,{modelValue:u.value,"onUpdate:modelValue":f[10]||(f[10]=b=>u.value=b),title:s(o).formData.id?d.$t("\u7F16\u8F91\u4E66\u7B7E"):d.$t("\u6DFB\u52A0\u4E66\u7B7E"),width:"min(480px, 98vw)",height:"min(520px, 90vh)",customClass:"bookmark-config-dialog",onClose:yt},{footer:D(()=>[h("div",sn,[h("button",{type:"button",class:"btn",onClick:Et},F(d.$t("\u53D6\u6D88")),1),h("button",{type:"button",class:"btn btn-primary",loading:k.value,onClick:gt},F(d.$t("\u786E\u8BA4")),9,un)])]),default:D(()=>[y(J,{ref_key:"form",ref:c,"label-width":"110px",model:s(o).formData,rules:s(o).formRules},{default:D(()=>[y(I,{label:d.$t("\u7C7B\u578B")},{default:D(()=>[y(rt,{modelValue:s(o).formData.type,"onUpdate:modelValue":f[0]||(f[0]=b=>s(o).formData.type=b),disabled:!!s(o).formData.id},{default:D(()=>[y(Z,{label:"icon"},{default:D(()=>[ot(F(d.$t("\u56FE\u6807")),1)]),_:1}),y(Z,{label:"folder",disabled:!!B.value},{default:D(()=>[ot(F(d.$t("\u6587\u4EF6\u5939")),1)]),_:1},8,["disabled"]),y(Z,{label:"file",disabled:!!B.value},{default:D(()=>[ot(F(d.$t("\u4ECEChrome\u4E66\u7B7E\u5BFC\u5165")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"]),s(o).formData.type==="icon"?(p(),it(I,{key:0,label:d.$t("\u7F51\u7AD9\u5730\u5740"),prop:"url"},{default:D(()=>[y(ct,{modelValue:s(o).formData.url,"onUpdate:modelValue":f[1]||(f[1]=b=>s(o).formData.url=b),placeholder:d.$t("\u8BF7\u8F93\u5165\u7F51\u7AD9\u5730\u5740"),onBlur:ht},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):E("",!0),s(o).formData.type!=="file"?(p(),it(I,{key:1,label:s(o).formData.type==="icon"?d.$t("\u7F51\u7AD9\u540D\u79F0"):d.$t("\u6587\u4EF6\u5939\u540D\u79F0"),prop:"title"},{default:D(()=>[y(ct,{modelValue:s(o).formData.title,"onUpdate:modelValue":f[2]||(f[2]=b=>s(o).formData.title=b),placeholder:s(o).formData.type==="icon"?d.$t("\u8BF7\u8F93\u5165\u7F51\u7AD9\u540D\u79F0"):d.$t("\u8BF7\u8F93\u5165\u6587\u4EF6\u5939\u540D\u79F0")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):E("",!0),s(o).formData.type==="icon"?(p(),g(X,{key:2},[y(I,{label:d.$t("\u7F51\u7AD9\u56FE\u6807"),prop:"iconType"},{default:D(()=>[y(rt,{modelValue:s(o).formData.iconType,"onUpdate:modelValue":f[3]||(f[3]=b=>s(o).formData.iconType=b),onChange:Y},{default:D(()=>[(p(),g(X,null,vt(i,b=>y(Z,{label:b.value,key:b.value},{default:D(()=>[ot(F(d.$t(b.label)),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["label"]),s(o).formData.iconType==="network"?(p(),it(I,{key:0,label:d.$t("\u56FE\u6807\u5730\u5740"),prop:"iconPath"},{default:D(()=>[y(ct,{modelValue:s(o).formData.iconPath,"onUpdate:modelValue":f[4]||(f[4]=b=>s(o).formData.iconPath=b),placeholder:d.$t("\u8BF7\u8F93\u5165\u56FE\u6807\u5730\u5740")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):E("",!0),s(o).formData.iconType==="text"?(p(),it(I,{key:1,label:d.$t("\u6587\u672C\u989C\u8272"),prop:"iconPath"},{default:D(()=>[y(ie,{"show-alpha":"",modelValue:s(o).formData.iconPath,"onUpdate:modelValue":f[5]||(f[5]=b=>s(o).formData.iconPath=b)},null,8,["modelValue"])]),_:1},8,["label"])):E("",!0)],64)):E("",!0),s(o).formData.type!=="file"?(p(),g(X,{key:3},[y(I,{label:d.$t("\u80CC\u666F\u989C\u8272"),prop:"bgColor"},{default:D(()=>[y(ie,{"show-alpha":"",modelValue:s(o).formData.bgColor,"onUpdate:modelValue":f[6]||(f[6]=b=>s(o).formData.bgColor=b)},null,8,["modelValue"])]),_:1},8,["label"]),y(I,{label:d.$t("\u56FE\u6807\u9884\u89C8")},{default:D(()=>{var b;return[h("div",{class:"icon-img-preview-box",style:M({width:t.boxSize,height:t.boxSize,borderRadius:t.boxRadius,background:s(o).formData.bgColor})},[s(o).formData.type==="icon"&&s(j)?(p(),g(X,{key:0},[s(o).formData.iconType==="network"?(p(),g("img",{key:0,src:s(o).formData.iconPath,style:M({width:t.iconSize,height:t.iconSize})},null,12,Xe)):E("",!0),s(o).formData.iconType==="api"&&w.value?(p(),g("img",{key:1,src:w.value,style:M({width:t.iconSize,height:t.iconSize}),onLoad:f[7]||(f[7]=H=>A.value=!1),onError:f[8]||(f[8]=H=>A.value=!1)},null,44,Ye)):E("",!0),s(o).formData.iconType==="text"?(p(),g("div",{key:2,style:M({fontSize:t.iconSize,color:s(o).formData.iconPath}),class:"no-icon"},F((b=s(o).formData.title)==null?void 0:b.slice(0,1)),5)):E("",!0),A.value?(p(),g("div",Ge,[y(O,{name:"loader-2",size:t.iconSize,class:"infinty-loading"},null,8,["size"])])):E("",!0)],64)):E("",!0),s(o).formData.type==="folder"?(p(),g("svg",{key:1,viewBox:"0 0 1124 1024",width:(t.iconSize||"32").replace("px",""),height:(t.iconSize||"32").replace("px","")},nn,8,Ke)):E("",!0)],4)]}),_:1},8,["label"])],64)):E("",!0),s(o).formData.type==="icon"?(p(),it(I,{key:4,label:d.$t("\u7F13\u5B58\u56FE\u6807")},{default:D(()=>[y(et,{modelValue:_.value,"onUpdate:modelValue":f[9]||(f[9]=b=>_.value=b)},null,8,["modelValue"])]),_:1},8,["label"])):E("",!0),s(o).formData.type==="file"?(p(),it(I,{key:5,label:d.$t("\u4E66\u7B7EHTML")},{default:D(()=>[h("button",{type:"button",class:"btn btn-warning",onClick:At},F(d.$t("\u5BFC\u5165\u6587\u4EF6")),1),h("input",{type:"file",accept:".html",style:{display:"none"},ref_key:"htmlRef",ref:pt},null,512),G.value.length?(p(),g("div",on,F(d.$t("\u89E3\u6790\u4E66\u7B7E\u6587\u4EF6\u6210\u529F\uFF0C\u89E3\u6790\u7ED3\u679C\u5982\u4E0B")),1)):E("",!0),G.value.length?(p(),g("div",an,[(p(!0),g(X,null,vt(G.value,(b,H)=>(p(),g(X,{key:H},[b.children?(p(),g("details",rn,[h("summary",null,F(b.title),1),(p(!0),g(X,null,vt(b.children,(lt,r)=>(p(),g("div",{key:r,class:"sub-title"},F(lt.title),1))),128))])):(p(),g("div",ln,F(b.title),1))],64))),128))])):E("",!0)]),_:1},8,["label"])):E("",!0)]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});var fn=qt(cn,[["__scopeId","data-v-7f52e89d"]]);const be=t=>(Wt("data-v-7baa37b9"),t=t(),Xt(),t),dn=be(()=>h("div",{class:"folder-wrapper"},[h("svg",{viewBox:"0 0 1124 1024",width:"20",height:"20"},[h("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"}),h("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"}),h("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"})]),h("div",{class:"folder-name"},"__ROOT__")],-1)),hn={class:"folder-wrapper"},pn=be(()=>h("svg",{viewBox:"0 0 1124 1024",width:"20",height:"20"},[h("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"}),h("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"}),h("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"})],-1)),vn={class:"folder-name"},mn={class:"footer",style:{"text-align":"right",padding:"12px"}},gn=jt({props:{folderList:{type:Array,default:()=>[]}},setup(t,{expose:e}){const n=z(!1),i=z(!1);let u,c;const w=o=>(n.value=!0,i.value=!!o,new Promise((B,L)=>{u=B,c=L})),_=z("$root"),k=()=>{n.value=!1},A=()=>{c()},V=()=>{!_.value||(u(_.value),k())};return e({move:w}),(o,B)=>{const L=tt("el-radio"),j=tt("el-radio-group"),ht=tt("easy-dialog");return p(),it(ht,{modelValue:n.value,"onUpdate:modelValue":B[1]||(B[1]=Y=>n.value=Y),title:o.$t("\u9009\u62E9\u6587\u4EF6\u5939"),width:"min(280px, 90vw)",height:"min(320px, 60vh)",onClose:A,customWrapperClass:"bookmark-config-dialog"},{footer:D(()=>[h("div",mn,[h("button",{type:"button",class:"btn",onClick:k},F(o.$t("\u53D6\u6D88")),1),h("button",{type:"button",class:"btn btn-primary",onClick:V},F(o.$t("\u786E\u8BA4")),1)])]),default:D(()=>[y(j,{modelValue:_.value,"onUpdate:modelValue":B[0]||(B[0]=Y=>_.value=Y)},{default:D(()=>[i.value?(p(),it(L,{key:0,label:"$root"},{default:D(()=>[dn]),_:1})):E("",!0),(p(!0),g(X,null,vt(t.folderList,Y=>(p(),it(L,{label:Y.id,key:Y.id},{default:D(()=>[h("div",hn,[pn,h("div",vn,F(Y.title),1)])]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","title"])}}});var yn=qt(gn,[["__scopeId","data-v-7baa37b9"]]);const Qt=t=>(Wt("data-v-456c8cbe"),t=t(),Xt(),t),bn=["onClick"],kn=["src"],wn=["width","height"],Sn=Qt(()=>h("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"},null,-1)),Dn=Qt(()=>h("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"},null,-1)),En=Qt(()=>h("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"},null,-1)),Cn=[Sn,Dn,En],xn={class:"tile-title"},Fn={key:0,class:"selected-icon"},_n={class:"btn-add-wrapper"},$n={key:0,class:"popover-wrapper"},Bn={class:"title"},Tn=["onClick"],zn=["src"],Nn={key:0,class:"selected-icon"},An={key:0,class:"batch-operation-wrapper"},Vn={class:"selected-count"},On={class:"num"},Pn={class:"operation-btn-wrapper"},Ln={key:0,class:"batch-operation-wrapper"},In={class:"selected-count"},Mn={class:"num"},Rn={class:"operation-btn-wrapper"},Hn=jt({props:{componentSetting:{type:Object,required:!0},element:{type:Object,required:!0},isAction:{type:Boolean,default:!1}},setup(t){const e=t;Ne(r=>({c3119202:s(o),"817ffc8a":s(B),"5a54214c":s(w),"72e809ab":s(_),"5347e228":s(k),e69711e2:s(A),"094f25a4":s(V)}));const n=ne(Ct({},oe),{updated:oe.mounted}),{t:i}=pe(),u=z(),c=Q(()=>L.isLock),w=Q(()=>e.componentSetting.boxSize+"px"),_=Q(()=>e.componentSetting.boxRadius+"px"),k=Q(()=>e.componentSetting.iconSize+"px"),A=Q(()=>e.componentSetting.textFontSize+"px"),V=Q(()=>e.componentSetting.textColor),o=Q(()=>e.componentSetting.padding+"px"),B=Q(()=>`${e.componentSetting.boxSize+e.componentSetting.textFontSize*1.5+e.componentSetting.padding*2+8}px`),L=_e(),j=Q({get:()=>e.componentSetting.bookmark,set:r=>{const v=JSON.parse(JSON.stringify(e.element));e.isAction?(v.componentSetting.actionClickValue.componentSetting.bookmark=r,L.updateActionElement(v)):v.componentSetting.bookmark=r,L.editComponent(v)}}),ht=z([{label:()=>i("\u6DFB\u52A0"),icon:bt(U,{name:"add",size:18}),fn:r=>{gt(r.parent)}},{label:()=>i("\u7F16\u8F91"),fn:r=>{Y(r.element,r.parent)},icon:bt(U,{name:"lock",size:18})},{label:()=>i("\u79FB\u52A8"),fn:r=>{d([r.element],!1,r.parent)},hidden:r=>r.element.type==="folder",icon:bt(U,{name:"send-plane",size:18})},{label:()=>i("\u5220\u9664"),fn:r=>{d([r.element],!0,r.parent)},icon:bt(U,{name:"delete",size:18}),customClass:"delete"},{line:!0},{label:()=>i("\u6279\u91CF\u64CD\u4F5C"),icon:bt(U,{name:"checkbox-multiple",size:18}),fn:r=>{b(r.parent)}}]),Y=(r,v)=>u.value.open(r,v),gt=r=>u.value.open(null,r),Nt=(r,v)=>{const l=JSON.parse(JSON.stringify(e.element)),C=e.isAction?l.componentSetting.actionClickValue.componentSetting.bookmark:l.componentSetting.bookmark;if(v){const m=C.findIndex($=>$.id===v.id);~m&&C[m].children.push(r)}else C.push(r);L.editComponent(l),v&&rt()},yt=async(r,v)=>{const l=JSON.parse(JSON.stringify(e.element)),C=e.isAction?l.componentSetting.actionClickValue.componentSetting.bookmark:l.componentSetting.bookmark;if(v){const m=C.findIndex(T=>T.id===v.id);if(!~m)return;const $=C[m].children.findIndex(T=>T.id===r.id);~$&&(C[m].children[$]=r)}else{const m=C.findIndex($=>$.id===r.id);~m&&(C[m]=r)}L.editComponent(l),v&&rt()},Et=r=>{const v=r.map(m=>m.children?(m.children=m.children.map($=>({bgColor:"rgba(241, 243, 244, 1)",iconPath:$.icon||"rgba(48,50,56,1)",iconType:$.icon?"network":"text",id:$t(),title:$.title,type:"icon",url:$.href})),{bgColor:"rgba(241, 243, 244, 1)",children:m.children,iconPath:"",iconType:"api",id:$t(),title:m.title,type:"folder",url:""}):{bgColor:"rgba(241, 243, 244, 1)",children:[],iconPath:m.icon||"rgba(48,50,56,1)",iconType:m.icon?"network":"text",id:$t(),title:m.title,type:"icon",url:m.href}),l=JSON.parse(JSON.stringify(e.element));(e.isAction?l.componentSetting.actionClickValue.componentSetting.bookmark:l.componentSetting.bookmark).push(...v),L.editComponent(l)},pt=(r,v)=>{if(O.value){const l=R.value.findIndex(C=>C===r.id);~l?(J.value.splice(l,1),R.value.splice(l,1)):(J.value.push(r),R.value.push(r.id))}else if(r.type==="icon"){let l=r.url;/https?:\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/.test(l)||(l="https://"+l),e.componentSetting.jumpType===2?window.location.href=l:window.open(l)}else r.type==="folder"&&(Z.value.defaultOpen({w:Math.min(720,window.innerWidth*.9),h:Math.min(400,window.innerHeight*.75),direction:0},v.currentTarget),f.value=r)},G=z(),At=Q(()=>j.value.filter(r=>r.type==="folder")),d=async(r,v=!1,l)=>{if(!(!r||r.length===0))try{const C=JSON.parse(JSON.stringify(e.element)),m=e.isAction?C.componentSetting.actionClickValue.componentSetting.bookmark:C.componentSetting.bookmark;if(v){if(!confirm(i("\u786E\u8BA4\u8981\u5220\u9664\u6240\u9009\u9879?")))return}else{const $=await G.value.move(l);if($===(l==null?void 0:l.id))return;if(r.filter(T=>T.type==="folder").length&&(Ut({title:i("\u63D0\u793A"),message:i("\u76EE\u524D\u6682\u4E0D\u652F\u6301\u79FB\u52A8\u6587\u4EF6\u5939")}),r=r.filter(T=>T.type!=="folder")),$==="$root")r.map(T=>{~m.findIndex(K=>K.id===T.id)||m.push(T)});else{const T=m.findIndex(K=>K.id===$);~T&&r.map(K=>{~m[T].children.findIndex(Vt=>Vt.id===K.id)||m[T].children.push(K)})}}if(l){const $=m.findIndex(T=>T.id===l.id);r.map(T=>{const K=m[$].children.findIndex(Vt=>Vt.id===T.id);~K&&m[$].children.splice(K,1)})}else r.map($=>{const T=m.findIndex(K=>K.id===$.id);~T&&m.splice(T,1)});e.isAction&&L.updateActionElement(C),L.editComponent(C),l&&rt(),O.value&&(O.value=!1,J.value=[],R.value=[])}catch(C){console.error(C),console.log("Cancel Move")}},f=z(),Z=z(),rt=async()=>{await $e();const r=j.value.findIndex(v=>{var l;return v.id===((l=f.value)==null?void 0:l.id)});~r&&(f.value=j.value[r])},I=()=>{var C;const r=JSON.parse(JSON.stringify(e.element)),v=e.isAction?r.componentSetting.actionClickValue.componentSetting.bookmark:r.componentSetting.bookmark,l=j.value.findIndex(m=>{var $;return m.id===(($=f.value)==null?void 0:$.id)});v[l].children=(C=f.value)==null?void 0:C.children,L.editComponent(r)},ct=()=>{f.value=null},O=z(!1),et=z(),J=z([]),R=z([]),b=r=>{O.value=!0,et.value=r},H=()=>{O.value=!1,J.value.length=0,R.value.length=0},lt=r=>{O.value&&(H(),r.preventDefault(),document.oncontextmenu=v=>v.preventDefault())};return Be(()=>document.addEventListener("contextmenu",lt)),Te(()=>document.removeEventListener("contextmenu",lt)),(r,v)=>(p(),g("div",{class:"wrapper",style:M({fontSize:t.componentSetting.textFontSize+"px",color:t.componentSetting.textColor,padding:t.componentSetting.padding+"px"})},[h("div",{class:"bookmark-wrapper",style:M({maxWidth:`${t.componentSetting.maxWidth||880}px`,pointerEvents:s(c)?"all":"none"})},[y(s(re),{modelValue:s(j),"onUpdate:modelValue":v[1]||(v[1]=l=>ze(j)?j.value=l:null),class:"bookmark-draggable-wrapper","item-key":"id"},{item:D(({element:l,index:C})=>[xt((p(),g("div",{class:Ft(["item"]),onClick:m=>pt(l,m)},[h("div",{class:Ft(["tile-icon",O.value&&!et.value&&"bounce-icon"]),style:M({background:l.bgColor,boxShadow:t.componentSetting.boxShadow})},[l.type!=="folder"?(p(),g(X,{key:0},[l.iconType==="network"?(p(),g("img",{key:0,src:l.iconPath,alt:""},null,8,kn)):E("",!0),l.iconType==="text"?(p(),g("div",{key:1,style:M({fontSize:s(k),color:l.iconPath}),class:"no-icon"},F(l.title.slice(0,1)),5)):E("",!0)],64)):(p(),g("svg",{key:1,viewBox:"0 0 1124 1024",width:(s(k)||"32").replace("px",""),height:(s(k)||"32").replace("px","")},Cn,8,wn))],6),h("div",xn,F(l.title),1),R.value.includes(l.id)?(p(),g("div",Fn,[y(U,{name:"check",size:"30"})])):E("",!0)],8,bn)),[[n,{disabled:()=>O.value,params:{element:l,index:C},menuList:ht.value,width:120,iconType:"vnode-icon"}]])]),footer:D(()=>[O.value?E("",!0):xt((p(),g("div",{key:0,class:"item btn-add-item",onClick:v[0]||(v[0]=l=>gt())},[h("div",_n,[y(U,{name:"add"})])],512)),[[ae,!t.componentSetting.hiddenAddBtn||s(j).length===0]]),(p(),g(X,null,vt(20,l=>h("div",{class:"item fake",key:l})),64))]),_:1},8,["modelValue"])],4),y(fn,{ref_key:"configDialog",ref:u,boxSize:s(w),boxRadius:s(_),iconSize:s(k),onAdd:Nt,onEdit:yt,onImport:Et},null,8,["boxSize","boxRadius","iconSize"]),y(yn,{ref_key:"moveDialog",ref:G,folderList:s(At)},null,8,["folderList"]),y(Oe,{ref_key:"popover",ref:Z,"close-on-click-outside":!!t.componentSetting.closeClickOutside,onClosed:ct,zIndex:1e3},{default:D(()=>[f.value?(p(),g("div",$n,[h("div",Bn,F(f.value.title),1),y(s(re),{modelValue:f.value.children,"onUpdate:modelValue":v[3]||(v[3]=l=>f.value.children=l),class:"bookmark-draggable-wrapper","item-key":"id",onEnd:I},{item:D(({element:l,index:C})=>[xt((p(),g("div",{class:Ft(["item"]),style:M({width:s(B),height:s(B),padding:s(o)}),onClick:m=>pt(l)},[h("div",{class:Ft(["tile-icon",O.value&&et.value&&"bounce-icon"]),style:M({background:l.bgColor,boxShadow:t.componentSetting.boxShadow,width:s(w),height:s(w),borderRadius:s(_)})},[l.type!=="folder"?(p(),g(X,{key:0},[l.iconType==="network"?(p(),g("img",{key:0,style:M({width:s(k),height:s(k)}),src:l.iconPath,alt:""},null,12,zn)):E("",!0),l.iconType==="text"?(p(),g("div",{key:1,style:M({fontSize:s(k),color:l.iconPath}),class:"no-icon"},F(l.title.slice(0,1)),5)):E("",!0)],64)):E("",!0)],6),h("div",{class:"tile-title",style:M({fontSize:s(A),color:s(V)})},F(l.title),5),R.value.includes(l.id)?(p(),g("div",Nn,[y(U,{name:"check",size:"30"})])):E("",!0)],12,Tn)),[[n,{params:{element:l,index:C,parent:f.value},menuList:ht.value,width:120,iconType:"vnode-icon"}]])]),footer:D(()=>[O.value?E("",!0):xt((p(),g("div",{key:0,class:"item btn-add-item",style:M({width:s(B),height:s(B),padding:s(o)}),onClick:v[2]||(v[2]=l=>gt(f.value))},[h("div",{class:"btn-add-wrapper",style:M({color:s(V),border:`2px dashed ${s(V)}`})},[y(U,{name:"add"})],4)],4)),[[ae,!t.componentSetting.hiddenAddBtn||f.value.children&&f.value.children.length===0]]),(p(),g(X,null,vt(20,l=>h("div",{class:"item fake",style:M({width:s(B),padding:`0 ${s(o)}`}),key:l},null,4)),64))]),_:1},8,["modelValue"]),O.value&&et.value?(p(),g("div",An,[h("div",{class:"close-btn",onClick:H},[y(U,{name:"close"})]),h("div",Vn,[h("span",On,F(J.value.length),1),ot(F(r.$t("\u9879\u5DF2\u9009\u62E9")),1)]),h("div",Pn,[h("div",{class:"move-btn",onClick:v[4]||(v[4]=l=>d(J.value,!1,f.value))},[y(U,{name:"send-plane",size:"16"}),ot(" "+F(r.$t("\u79FB\u52A8")),1)]),h("div",{class:"del-btn",onClick:v[5]||(v[5]=l=>d(J.value,!0,f.value))},[y(U,{name:"delete",size:"16"}),ot(" "+F(r.$t("\u5220\u9664")),1)])])])):E("",!0)])):E("",!0)]),_:1},8,["close-on-click-outside"]),O.value&&!et.value?(p(),g("div",Ln,[h("div",{class:"close-btn",onClick:H},[y(U,{name:"close"})]),h("div",In,[h("span",Mn,F(J.value.length),1),ot(F(r.$t("\u9879\u5DF2\u9009\u62E9")),1)]),h("div",Rn,[h("div",{class:"move-btn",onClick:v[6]||(v[6]=l=>d(J.value))},[y(U,{name:"send-plane",size:"16"}),ot(" "+F(r.$t("\u79FB\u52A8")),1)]),h("div",{class:"del-btn",onClick:v[7]||(v[7]=l=>d(J.value,!0))},[y(U,{name:"delete",size:"16"}),ot(" "+F(r.$t("\u5220\u9664")),1)])])])):E("",!0)],4))}});var Xn=qt(Hn,[["__scopeId","data-v-456c8cbe"]]);export{Xn as default};
