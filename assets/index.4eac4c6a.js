var F=Object.defineProperty;var b=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var w=(e,s,a)=>s in e?F(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,f=(e,s)=>{for(var a in s||(s={}))x.call(s,a)&&w(e,a,s[a]);if(b)for(var a of b(s))z.call(s,a)&&w(e,a,s[a]);return e};import{_ as A,d as I,G as $,r as u,I as B,w as N,o as j,j as L,g as i,E as p,t as v,H as R,P as l,K as U}from"./index.ffc16ffa.js";var k="/Dashboard/assets/clear-day.1750460c.svg",M="/Dashboard/assets/cloudy.166af3f1.svg",W="/Dashboard/assets/drizzle.52d1ab01.svg",P="/Dashboard/assets/fog.f25816bc.svg",T="/Dashboard/assets/hurricane.bf691091.svg",q="/Dashboard/assets/mist.a73979af.svg",E="/Dashboard/assets/not-available.370934e3.svg",G="/Dashboard/assets/overcast-day.65e5e477.svg",H="/Dashboard/assets/overcast.404c05a4.svg",K="/Dashboard/assets/rain.5cfdb502.svg",O="/Dashboard/assets/sleet.4e1d5513.svg",V="/Dashboard/assets/snow.3716e1b7.svg",J="/Dashboard/assets/thermometer-colder.27e44f79.svg",Q="/Dashboard/assets/thermometer-warmer.a2cb4247.svg",X="/Dashboard/assets/thunderstorms-rain.a29ad635.svg",Y="/Dashboard/assets/wind.2fc5eaed.svg",Z="/Dashboard/assets/clear-day.49d8c731.svg",ee="/Dashboard/assets/cloudy.748e25f6.svg",se="/Dashboard/assets/drizzle.a4dba4de.svg",ae="/Dashboard/assets/fog.3b9c20d0.svg",te="/Dashboard/assets/hurricane.f598fa4b.svg",oe="/Dashboard/assets/mist.6bc8e890.svg",re="/Dashboard/assets/not-available.71622bd8.svg",ie="/Dashboard/assets/overcast-day.8a30a844.svg",ne="/Dashboard/assets/overcast.49e2e20c.svg",ce="/Dashboard/assets/rain.b26b9aff.svg",ue="/Dashboard/assets/sleet.ff126866.svg",ge="/Dashboard/assets/snow.050f823c.svg",de="/Dashboard/assets/thermometer-colder.761f5be2.svg",_e="/Dashboard/assets/thermometer-warmer.dfa3e251.svg",ve="/Dashboard/assets/thunderstorms-rain.5c8d2cef.svg",le="/Dashboard/assets/wind.e44ecfa2.svg";function y(e){return e.includes("\u98CE")?["\u9F99\u5377\u98CE","\u72C2\u7206\u98CE","\u98D3\u98CE","\u70ED\u5E26\u98CE\u66B4"].includes(e)?"\u9F99\u5377\u98CE":"\u98CE":e.includes("\u973E")||e.includes("\u96FE")?["\u91CD","\u5927","\u6D53","\u6C99","\u5C18"].some(s=>e.includes(s))?"\u5927\u96FE":"\u5C0F\u96FE":e.includes("\u96E8")?e.includes("\u96F7")?"\u96F7\u9635\u96E8":e.includes("\u96EA")?"\u96E8\u5939\u96EA":e.includes("\u5927")||e.includes("\u66B4")?"\u5927\u96E8":"\u5C0F\u96E8":e.includes("\u96EA")?"\u96EA":e}const he={\u6674:"clear-day",\u5C11\u4E91:"cloudy",\u6674\u95F4\u591A\u4E91:"overcast-day",\u591A\u4E91:"overcast",\u9634:"overcast",\u5E73\u9759:"overcast",\u98CE:"wind",\u9F99\u5377\u98CE:"hurricane",\u5927\u96FE:"fog",\u5C0F\u96FE:"mist",\u96F7\u9635\u96E8:"thunderstorms-rain",\u5927\u96E8:"rain",\u5C0F\u96E8:"drizzle",\u96E8\u5939\u96EA:"sleet",\u96EA:"snow",\u70ED:"thermometer-warmer",\u51B7:"thermometer-colder",\u672A\u77E5:"not-available"};function me(e){return new URL({"../../assets/imgs/weather-animation-icon/clear-day.svg":Z,"../../assets/imgs/weather-animation-icon/cloudy.svg":ee,"../../assets/imgs/weather-animation-icon/drizzle.svg":se,"../../assets/imgs/weather-animation-icon/fog.svg":ae,"../../assets/imgs/weather-animation-icon/hurricane.svg":te,"../../assets/imgs/weather-animation-icon/mist.svg":oe,"../../assets/imgs/weather-animation-icon/not-available.svg":re,"../../assets/imgs/weather-animation-icon/overcast-day.svg":ie,"../../assets/imgs/weather-animation-icon/overcast.svg":ne,"../../assets/imgs/weather-animation-icon/rain.svg":ce,"../../assets/imgs/weather-animation-icon/sleet.svg":ue,"../../assets/imgs/weather-animation-icon/snow.svg":ge,"../../assets/imgs/weather-animation-icon/thermometer-colder.svg":de,"../../assets/imgs/weather-animation-icon/thermometer-warmer.svg":_e,"../../assets/imgs/weather-animation-icon/thunderstorms-rain.svg":ve,"../../assets/imgs/weather-animation-icon/wind.svg":le}[`../../assets/imgs/weather-animation-icon/${e}.svg`],self.location).href}function be(e){return new URL({"../../assets/imgs/weather-static-icon/clear-day.svg":k,"../../assets/imgs/weather-static-icon/cloudy.svg":M,"../../assets/imgs/weather-static-icon/drizzle.svg":W,"../../assets/imgs/weather-static-icon/fog.svg":P,"../../assets/imgs/weather-static-icon/hurricane.svg":T,"../../assets/imgs/weather-static-icon/mist.svg":q,"../../assets/imgs/weather-static-icon/not-available.svg":E,"../../assets/imgs/weather-static-icon/overcast-day.svg":G,"../../assets/imgs/weather-static-icon/overcast.svg":H,"../../assets/imgs/weather-static-icon/rain.svg":K,"../../assets/imgs/weather-static-icon/sleet.svg":O,"../../assets/imgs/weather-static-icon/snow.svg":V,"../../assets/imgs/weather-static-icon/thermometer-colder.svg":J,"../../assets/imgs/weather-static-icon/thermometer-warmer.svg":Q,"../../assets/imgs/weather-static-icon/thunderstorms-rain.svg":X,"../../assets/imgs/weather-static-icon/wind.svg":Y}[`../../assets/imgs/weather-static-icon/${e}.svg`],self.location).href}function we(e,s=!0){const a=y(e)||"\u672A\u77E5",t=he[a]||"not-available";return s===!1?be(t):me(t)}const fe=I({name:"Weather",props:{componentSetting:{type:Object,required:!0}},setup(e){const s=$(()=>R(e.componentSetting.position)),a=u(""),t=u(""),{t:g}=B(),d=u(E),h=u("24"),m=u("\u672A\u77E5"),D=async()=>{const n=await fetch(`${l}/tapi/amap/v3/weather/weatherInfo?extensions=base&city=${t.value}`),{status:c,lives:o}=await n.json();if(c==="1"){const{weather:r,temperature:_}=o[0];d.value=we(r,e.componentSetting.animationIcon),m.value=y(r),h.value=_}};return N(()=>[e.componentSetting.weatherMode,e.componentSetting.cityName,e.componentSetting.animationIcon],async()=>{try{if(e.componentSetting.weatherMode===1){const n=await fetch(`${l}/tapi/amap/v3/ip`),{status:c,adcode:o,city:r}=await n.json();c==="1"&&(a.value=r.replace(/[市城区]/g,""),t.value=o)}else{if(!e.componentSetting.cityName)return;const n=await fetch(`${l}/tapi/amap/v3/config/district?keywords=${e.componentSetting.cityName}&subdistrict=0`),{status:c,districts:o}=await n.json();if(c==="1"&&o.length>0){const r=o.find(S=>S.level==="city"),{adcode:_,name:C}=r;a.value=C.replace(/[市城区]/g,""),t.value=_}}}catch{U({title:g("\u63D0\u793A"),type:"error",message:g("\u65E0\u6CD5\u8BC6\u522B\u51FA\u57CE\u5E02\uFF0C\u8BF7\u91CD\u65B0\u914D\u7F6E")})}D()},{immediate:!0}),{positionCSS:s,cityName:a,adcode:t,weatherIcon:d,weatherText:m,temperature:h}}}),pe={class:"weather-box"},Ee={class:"weather-icon-wrapper"},ye=["src"],De={class:"weather-text-wrapper"},Ce={class:"temperature"},Se={class:"city"};function Fe(e,s,a,t,g,d){return j(),L("div",{class:"wrapper",style:p(f({fontSize:e.componentSetting.baseFontSize+"px",color:e.componentSetting.textColor,textShadow:e.componentSetting.textShadow,padding:e.componentSetting.padding+"px",fontFamily:e.componentSetting.fontFamily},e.positionCSS))},[i("div",pe,[i("div",Ee,[i("img",{src:e.weatherIcon,style:p({filter:`drop-shadow(${e.componentSetting.iconShadow})`}),alt:"weather icon"},null,12,ye)]),i("div",De,[i("div",Ce,v(e.temperature)+"\xB0",1),i("div",Se,v(e.cityName)+" | "+v(e.weatherText),1)])])],4)}var Ae=A(fe,[["render",Fe],["__scopeId","data-v-1b922821"]]);export{Ae as default};
